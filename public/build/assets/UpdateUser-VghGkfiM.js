import{p as U,k as E,r as V,c as C,C as F,h as y,o as a,b as f,q as p,a as r,g,x as v,T as b,e as o,P as j,w as n,y as u,F as q,i as B,u as N,t as S,v as T,Q as M,B as P}from"./app-DE-L0Fm-.js";import{u as D}from"./index-Dknkoxjo.js";import O from"./Spinnercomponent-CKBwAh96.js";import{d as A}from"./index-DKX-0dvV.js";import{p as I}from"./phoneCodes-hIPL1_Jr.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./FormField-DmK14wTs.js";import"./FormFields-BN2yxq37.js";const G={key:0,class:"w-full max-w-2xl"},L={class:"relative flex h-auto m-auto w-2/3 flex-col overflow-hidden rounded-lg bg-white p-6 shadow-xl"},Q={class:"mb-12 flex items-center justify-between"},R=["disabled"],H={class:"flex-1 space-y-4 px-2"},J={class:"flex flex-col sm:flex-row gap-3 w-full"},K={class:"flex flex-col flex-1"},W={class:"flex flex-col flex-1"},X={class:"gap-3 w-full"},Y={class:"flex mb-3 flex-col flex-1"},Z={class:"flex"},$=["value"],ee={class:"flex flex-col flex-1"},oe={type:"submit",class:"flex items-center justify-center cursor-pointer bg-primary text-white py-3 rounded-lg hover:bg-primary-700 transition-all"},te={key:1},se=U({__name:"UpdateUser",props:{row:{type:[Boolean,null]}},emits:["close"],setup(w,{emit:_}){const i=w,c=_,s=E({name:"",last_name:"",email:"",phone:"",country_code:""});D();const d=V(!1),m=C(()=>!!i.row),x=()=>{c("close")};async function h(){try{d.value=!0;let l=await P.post("/register",s);A.Inertia.reload(),c("close")}catch(l){let e="Erreur lors de la vérification de l'email.";l?.response?.data?.errors?.length>0?e=Object.values(l?.response?.data?.errors).flat().flat().join(`
`):l?.response?.data?.message&&(e=l?.response?.data?.message),alert(e)}finally{d.value=!1}}const k=()=>{Object.keys(i.row).forEach(l=>{let e=i.row[l];s[l]=e})};return F(m,l=>{console.log(i.row),l?(document.body.style.overflow="hidden",k()):document.body.style.overflow=""}),(l,e)=>(a(),y(M,{to:"body"},[f(b,{name:"fade"},{default:p(()=>[m.value?(a(),r("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center overflow-auto bg-black/50 p-4",onClick:v(x,["self"])},[f(b,{name:"scale"},{default:p(()=>[m.value?(a(),r("div",G,[o("div",L,[o("div",Q,[e[6]||(e[6]=o("div",null,[o("h2",{class:"text-xl font-semibold text-gray-800"}," Edit Profile ")],-1)),o("button",{type:"button",disabled:d.value,onClick:x,class:"text-gray-500 transition-colors hover:text-gray-700 disabled:opacity-50","aria-label":"Fermer"},[...e[5]||(e[5]=[o("i",{class:"uil uil-times text-2xl"},null,-1)])],8,R)]),o("div",H,[f(j,{name:"list",tag:"div",class:"space-y-2"},{default:p(()=>[o("form",{onSubmit:v(h,["prevent"]),class:"flex w-full flex-col gap-4"},[o("div",J,[o("div",K,[e[7]||(e[7]=o("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Family Name / nom",-1)),n(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.name=t),type:"text",placeholder:"Enter your first name",required:"",class:"p-3 border w-full rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[u,s.name]])]),o("div",W,[e[8]||(e[8]=o("label",{class:"text-sm font-medium text-gray-700 mb-1"},"First Name / Prénoms",-1)),n(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.last_name=t),type:"text",placeholder:"Enter your last name",required:"",class:"p-3 border w-full rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[u,s.last_name]])])]),o("div",X,[o("div",Y,[e[9]||(e[9]=o("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Phone Number",-1)),o("div",Z,[n(o("select",{required:"","onUpdate:modelValue":e[2]||(e[2]=t=>s.country_code=t),class:"p-3 max-w-max border rounded-l-lg focus:ring-2 focus:ring-primary focus:outline-none"},[(a(!0),r(q,null,B(N(I),t=>(a(),r("option",{key:t.value,value:t.value},S(t.value),9,$))),128))],512),[[T,s.country_code]]),n(o("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>s.phone=t),type:"tel",placeholder:"e.g. 07 00 00 00 00",required:"",class:"p-3 w-full border-t border-b border-r rounded-r-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[u,s.phone]])])]),o("div",ee,[e[10]||(e[10]=o("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Email Address",-1)),n(o("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>s.email=t),type:"email",placeholder:"example@mail.com",required:"",class:"p-3 border w-full rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[u,s.email]])])]),o("button",oe,[d.value?(a(),y(O,{key:0})):(a(),r("span",te,"Save"))])],32)]),_:1})])])])):g("",!0)]),_:1})])):g("",!0)]),_:1})]))}}),fe=z(se,[["__scopeId","data-v-09875e65"]]);export{fe as default};
