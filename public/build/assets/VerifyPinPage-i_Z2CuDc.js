import{r as n,d as p,c as f,a as i,o as a,e as t,i as g,f as d,x as y,w as _,y as x,g as v,t as b}from"./app-DsXdfWFG.js";import h from"./Spinnercomponent-Btc9HR0K.js";import{d as w}from"./index-M1Uedtvd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"min-h-screen flex items-center justify-center bg-white"},N={class:"w-full max-w-md bg-white rounded-lg p-8 shadow"},k={class:"flex flex-col gap-2"},I={type:"submit",class:"flex items-center justify-center cursor-pointer bg-primary text-white py-3 rounded-lg hover:bg-primary-700 transition"},j={key:1},q={key:0,class:"mt-4 text-center text-red-500"},C={__name:"VerifyPinPage",setup(E){const o=n(""),l=n(""),r=n(!1),c=p.usePage();f(()=>{const s=c.url.value||"";return new URLSearchParams(s.split("?")[1]||"").get("is_complete")||!1});async function u(){try{r.value=!0;let s=await axios.post("/verify-pin",{pin:o.value});w.Inertia.visit(s?.data?.redirect)}catch(s){const e=s.response?.data?.message||Object.values(s.response?.data?.errors).flat().join(`
`);e.length>0&&alert(e)}finally{r.value=!1}}return(s,e)=>(a(),i("div",P,[t("div",N,[e[2]||(e[2]=t("div",{class:"flex items-center w-full mb-4 gap-2 text-center justify-center"},[t("a",{href:"/"},[t("img",{src:"https://static.wixstatic.com/media/0839e4_7910df264aee46ba85347ab33684d739~mv2_d_4782_1488_s_2.png/v1/fill/w_520,h_160,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/0839e4_7910df264aee46ba85347ab33684d739~mv2_d_4782_1488_s_2.png",alt:"Logo",class:"w-40 object-contain"})])],-1)),e[3]||(e[3]=t("h2",{class:"text-2xl font-bold mb-6 text-center"},"Enter the login PIN code",-1)),e[4]||(e[4]=t("div",{class:"bg-gray-100 mb-4 text-primary p-4 rounded-md mt-4",role:"alert"},[t("p",{class:"font-bold mb-2"},"PIN code sent"),t("p",{class:"text-sm"},[d(" A PIN code has been sent to your email address. Please check your inbox and spam folder. If you haven't received it, "),t("a",{href:"/login",class:"text-blue-800 underline font-semibold hover:text-blue-900 ml-1"}," you can try again "),d(". ")])],-1)),t("form",{onSubmit:y(u,["prevent"]),class:"flex flex-col gap-4"},[t("div",k,[e[1]||(e[1]=t("label",{for:"pin",class:"font-medium text-gray-700"},"PIN Code",-1)),_(t("input",{id:"pin","onUpdate:modelValue":e[0]||(e[0]=m=>o.value=m),type:"tel",placeholder:"Enter your 4-digit PIN",required:"",maxlength:"4",class:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[x,o.value]])]),t("button",I,[r.value?(a(),v(h,{key:0})):(a(),i("span",j,"Login"))])],32),l.value?(a(),i("p",q,b(l.value),1)):g("",!0)])]))}};export{C as default};
