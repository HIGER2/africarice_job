import{_ as C}from"./Table.vue_vue_type_script_setup_true_lang-CQL1may0.js";import{u as V}from"./index-B9cpqLDt.js";import{_ as D}from"./ButtonBack.vue_vue_type_script_setup_true_lang-B-dTmWKP.js";import{l as E,y as b,z as O,c as l,o as i,b as t,a as m,m as c,d as x,n as f,u as v,t as a,F as h,f as _}from"./app-Dm1em8k6.js";const T={class:"w-full"},B={class:"w-full mx-auto bg-white rounded-2xl px-6"},P={class:"flex justify-between items-center py-4"},R={class:"flex items-center gap-2"},$={key:0},A={key:1},F={key:0},z={key:1},L={class:"text-2xl font-bold text-gray-800 mb-4"},I={class:"grid grid-cols-2 gap-6 text-sm"},K={class:"font-medium"},M={class:"font-medium capitalize"},S={class:"font-medium"},G={class:"font-medium"},q={class:"font-medium"},H={class:"font-medium"},J={class:"grid grid-cols-2 gap-6 text-sm"},Q={class:"font-medium"},U={class:"font-medium"},W={class:"font-medium"},X={class:"font-medium"},Y={class:"font-medium"},Z={class:"max-w-max mt-5"},tt={key:0,class:"space-y-2"},et={class:"truncate max-w-xs"},st=["href"],at={key:1,class:"text-gray-500"},lt={class:"w-full mt-6"},it={class:"flex px-6 py-4 justify-between items-center w-full"},dt={class:"flex justify-between items-center"},nt={class:"overflow-x-auto border border-slate-200 bg-white"},ot={class:"flex flex-col gap-2"},rt=["href"],ut=["href"],pt=E({__name:"OffreManagerDetail",props:{data:Array},setup(s){const o=s,{exportToExcel:w,updateOffres:g}=V(),k={candidat:"Candidat",user_email:"Email",user_phone:"Téléphone",origin_nationality:"Nationalité",origin_country:"Pays",origin_city:"Ville",origin_experience_years:"Expérience",origin_french_level:"Niveau français",origin_english_level:"Niveau Anglais"},p=b(()=>o.data.data[0]),j=["uuid"],y=b(()=>!o.data?.data||o.data.data.length===0?[]:Object.keys(o.data.data[0]?.candidat[0]||{}).filter(e=>!j.includes(e)).map(e=>({key:e,label:k[e]||e}))),N=(n,e)=>{delete n[n.findIndex(r=>r.key==="documents")],w(n,e,"Liste_des_candidatures.xlsx")};return(n,e)=>{const r=O("Button");return i(),l("div",null,[t("div",T,[t("div",B,[t("div",P,[m(D,{path:"/manager/offres"}),t("div",R,[m(r,{onClick:e[0]||(e[0]=()=>v(g)(s.data?.data[0]?.is_published?0:1,s.data?.data[0]?.uuid,"is_published")),type:"button",class:f(["max-w-xs text-[12px] px-4 py-2 cursor-pointer font-medium rounded-lg hover:shadow inline-flex items-center gap-2 mb-3",s.data?.data[0]?.is_published?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"])},{default:c(()=>[s.data?.data[0]?.is_published?(i(),l("span",$,[...e[3]||(e[3]=[t("i",{class:"uil uil-eye"},null,-1),x(" Dépublier l’offre ",-1)])])):(i(),l("span",A,[...e[4]||(e[4]=[t("i",{class:"uil uil-eye-slash"},null,-1),x(" Publier l’offre ",-1)])]))]),_:1},8,["class"]),m(r,{onClick:e[1]||(e[1]=()=>v(g)(s.data?.data[0]?.is_closed?0:1,s.data?.data[0]?.uuid,"is_closed")),type:"button",class:f(["max-w-xs text-[12px] px-4 py-2 cursor-pointer font-medium rounded-lg hover:shadow inline-flex items-center gap-2 mb-3",s.data?.data[0]?.is_closed?"bg-gray-100 text-gray-700":"bg-red-100 text-red-700"])},{default:c(()=>[s.data?.data[0]?.is_closed?(i(),l("span",F,[...e[5]||(e[5]=[t("i",{class:"uil uil-check-circle"},null,-1),x(" Réouvrir l’offre ",-1)])])):(i(),l("span",z,[...e[6]||(e[6]=[t("i",{class:"uil uil-times-circle"},null,-1),x(" Fermer l’offre ",-1)])]))]),_:1},8,["class"])])]),t("h1",L," Offre de Recrutement : "+a(s.data?.data[0]?.job.position_title),1),t("div",I,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-gray-500"},"Référence",-1)),t("p",K,a(s.data?.data[0]?.reference),1)]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-gray-500"},"Type",-1)),t("p",M,a(s.data?.data[0]?.type),1)]),t("div",null,[e[9]||(e[9]=t("p",{class:"text-gray-500"},"Publié ?",-1)),t("p",S,[t("span",{class:f(["px-2 py-1 rounded-full text-xs font-semibold",s.data?.data[0]?.is_published?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},a(s.data?.data[0]?.is_published?"Oui":"Non"),3)])]),t("div",null,[e[10]||(e[10]=t("p",{class:"text-gray-500"},"Clôturé ?",-1)),t("p",G,[t("span",{class:f(["px-2 py-1 rounded-full text-xs font-semibold",s.data?.data[0]?.is_closed?"bg-red-100 text-red-700":"bg-green-100 text-green-700"])},a(s.data?.data[0]?.is_closed?"Oui":"Non"),3)])]),t("div",null,[e[11]||(e[11]=t("p",{class:"text-gray-500"},"Publié le",-1)),t("p",q,a(s.data?.data[0]?.published_at),1)]),t("div",null,[e[12]||(e[12]=t("p",{class:"text-gray-500"},"Expire le",-1)),t("p",H,a(s.data?.data[0]?.expires_at),1)])]),e[20]||(e[20]=t("h2",{class:"text-xl font-semibold text-gray-800 mt-8 mb-4"},"Détails du poste",-1)),t("div",J,[t("div",null,[e[13]||(e[13]=t("p",{class:"text-gray-500"},"Titre du poste",-1)),t("p",Q,a(s.data?.data[0]?.job.position_title),1)]),t("div",null,[e[14]||(e[14]=t("p",{class:"text-gray-500"},"Pays d’affectation",-1)),t("p",U,a(s.data?.data[0]?.job.country_duty_station),1)]),t("div",null,[e[15]||(e[15]=t("p",{class:"text-gray-500"},"Ville",-1)),t("p",W,a(s.data?.data[0]?.job.city_duty_station??"Non précisé"),1)]),t("div",null,[e[16]||(e[16]=t("p",{class:"text-gray-500"},"Grade",-1)),t("p",X,a(s.data?.data[0]?.job.grade??"Non précisé"),1)]),t("div",null,[e[17]||(e[17]=t("p",{class:"text-gray-500"},"Salaire",-1)),t("p",Y,a(s.data?.data[0]?.job.salary_post??"Non précisé"),1)])]),t("div",Z,[e[19]||(e[19]=t("h2",{class:"text-lg font-semibold mb-4"},"Documents",-1)),p.value.files.length>0?(i(),l("div",tt,[(i(!0),l(h,null,_(p.value.files,(d,u)=>(i(),l("div",{key:u,class:"flex items-center justify-between p-3 border rounded hover:bg-gray-50"},[t("span",et,a(d.name),1),t("a",{href:d.url,download:"",class:"text-blue-600 hover:underline flex items-center space-x-1"},[...e[18]||(e[18]=[t("i",{class:"uil uil-export"},null,-1),t("span",null,"Télécharger ",-1)])],8,st)]))),128))])):(i(),l("div",at,"Aucun document disponible."))])]),t("div",lt,[t("div",it,[e[22]||(e[22]=t("h2",{class:"text-2xl font-semibold mb-4"},"Liste des candidats",-1)),t("div",dt,[t("button",{onClick:e[2]||(e[2]=d=>N(y.value,s.data?.data[0]?.candidat)),type:"button",class:"bg-primary p-2 px-3 rounded-lg text-white cursor-pointer"},[...e[21]||(e[21]=[t("i",{class:"uil uil-export"},null,-1),t("span",null," Importer",-1)])])])]),t("div",nt,[m(C,{columns:y.value,rows:s.data?.data[0]?.candidat},{documents:c(({row:d})=>[t("div",ot,[(i(!0),l(h,null,_(d.documents,(u,mt)=>(i(),l("a",{href:`/storage/${u.path}`,target:"_blank",class:"text-blue-600 hover:underline"},a(u.name),9,rt))),256))])]),actions:c(({row:d})=>[t("a",{href:`/manager/candidat/${d.uuid}`,class:"px-3 py-1 text-sm border rounded-md hover:bg-gray-50"}," Voir ",8,ut)]),_:1},8,["columns","rows"])])])])])}}});export{pt as _};
