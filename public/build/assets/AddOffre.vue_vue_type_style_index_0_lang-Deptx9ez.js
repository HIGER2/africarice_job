import{p as B,b as x,c as s,o as l,e,d as p,T as v,q as b,i as g,y,F as d,h as c,u as a,g as h,t as F}from"./app-akjv1TV5.js";import w from"./FormField-D6ZqehmQ.js";import{u as S}from"./index-DXVgkMwh.js";import $ from"./Spinnercomponent-DQuE-GNi.js";const z={class:"p-6"},M={key:0,class:"bg-white flex flex-col overflow-hidden h-[560px] rounded-2xl shadow-lg p-6 max-w-md w-full relative"},O={class:"flex items-center justify-between mb-2"},D={class:"mt-7 flex-1 overflow-y-auto p-2"},E={class:"flex items-end gap-2"},H={class:"w-full mb-4"},N={class:"cursor-pointer"},q=["onClick"],T={class:"text-sm max-w-xs truncate"},U={type:"submit",class:"w-full flex items-center justify-center bg-primary p-2 rounded-md text-white cursor-pointer"},L={key:1},Q=B({__name:"AddOffre",setup(G){const{fieldAddOffre:_,newOffre:o,fieldAddDocument:k,submitOffre:C}=S(),n=x(!1),f=x(!1),A=m=>{o.document.splice(m,1)},V=async()=>{f.value=!0,await C(o),n.value=!1,f.value=!1};return(m,t)=>(l(),s("div",z,[e("button",{onClick:t[0]||(t[0]=r=>n.value=!0),class:"border-[0.1rem] border-gray-200 p-2 px-3 rounded-lg text-primary cursor-pointer"},[...t[4]||(t[4]=[e("i",{class:"uil uil-plus"},null,-1),e("span",null," Ajouter une offre",-1)])]),p(v,{name:"fade"},{default:b(()=>[n.value?(l(),s("div",{key:0,class:"fixed inset-0 overflow-auto bg-black/50 bg-opacity-50 flex items-center justify-center z-50",onClick:t[3]||(t[3]=y(r=>n.value=!1,["self"]))},[e("form",{action:"",onSubmit:y(V,["prevent"])},[p(v,{name:"scale"},{default:b(()=>[n.value?(l(),s("div",M,[e("div",O,[t[6]||(t[6]=e("h2",{class:"text-xl font-semibold"}," Ajouter une publication ",-1)),e("button",{type:"button",onClick:t[1]||(t[1]=r=>n.value=!1),class:"top-3 text-xl right-3 text-gray-500 hover:text-gray-700"},[...t[5]||(t[5]=[e("i",{class:"uil uil-times"},null,-1)])])]),e("div",D,[(l(!0),s(d,null,c(a(_),(r,u)=>(l(),s("div",E,[(l(!0),s(d,null,c(r,i=>(l(),h(w,{label:i.label,field:i,modelValue:a(o).offre[i.key],"onUpdate:modelValue":j=>a(o).offre[i.key]=j,placeholder:"Ex: Developpeur Full Stack"},null,8,["label","field","modelValue","onUpdate:modelValue"]))),256))]))),256)),(l(!0),s(d,null,c(a(k),r=>(l(),s("div",H,[e("label",N,[p(w,{field:r,onChange:t[2]||(t[2]=u=>a(o).document.push(u))},null,8,["field"]),t[7]||(t[7]=e("div",{class:"border border-dashed p-3 flex flex-col w-full text-center cursor-pointer"},[e("span",{class:"text-gray-500"}," Cliquez ici pour télécharger un ficher "),e("span",{class:"flex items-center justify-center space-x-2 bg-green-100 text-green-800 p-2 rounded border border-green-300"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"m19.21 12.04l-1.53-.11l-.3-1.5A5.484 5.484 0 0 0 12 6C9.94 6 8.08 7.14 7.12 8.96l-.5.95l-1.07.11A3.99 3.99 0 0 0 2 14c0 2.21 1.79 4 4 4h13c1.65 0 3-1.35 3-3c0-1.55-1.22-2.86-2.79-2.96m-5.76.96v3h-2.91v-3H8l4-4l4 4z",opacity:".3"}),e("path",{fill:"currentColor",d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5c0-2.64-2.05-4.78-4.65-4.96M19 18H6c-2.21 0-4-1.79-4-4c0-2.05 1.53-3.76 3.56-3.97l1.07-.11l.5-.95A5.47 5.47 0 0 1 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5l1.53.11A2.98 2.98 0 0 1 22 15c0 1.65-1.35 3-3 3M8 13h2.55v3h2.9v-3H16l-4-4z"})])])],-1))])]))),256)),(l(!0),s(d,null,c(a(o).document,(r,u)=>(l(),s("div",{class:"flex cursor-pointer bg-gray-100 border p-1 mb-1 border-gray-200",onClick:i=>A(u)},[e("span",T,F(r.name),1)],8,q))),256))]),e("button",U,[f.value?(l(),h($,{key:0})):(l(),s("span",L,"Enregistrer"))])])):g("",!0)]),_:1})],32)])):g("",!0)]),_:1})]))}});export{Q as _};
