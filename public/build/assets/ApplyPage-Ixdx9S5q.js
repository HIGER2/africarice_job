import{_ as B}from"./NavBar.vue_vue_type_script_setup_true_lang-C8xI_xEv.js";import D from"./OverlayLoader-CHcGFH9N.js";import{u as F}from"./index-Cwcf3g0y.js";import{d as L,c as N,r as z,a as r,o as n,b as x,e as t,f as i,t as l,g as v,F as w,h as E,i as R,n as h,u as o,j as T,K as $}from"./app-CyUPfJQf.js";import"./AuthUser.vue_vue_type_script_setup_true_lang-CS5-8DB6.js";import"./index-CjJ3LkBo.js";import"./FormField-XV-VBm47.js";import"./country-DJW8tnyE.js";const q={class:"w-full"},K={class:"max-w-xl mx-auto mt-4"},O={key:0,class:"bg-white border border-gray-200 rounded-lg p-5 mb-6"},U={class:"text-xl font-semibold mb-3"},H={class:"text-gray-600"},Y={class:"mt-3 grid grid-cols-2 gap-4 text-sm text-gray-700"},G={key:1},I={class:"bg-white border border-gray-200 rounded-lg p-5"},J={class:"w-full"},M={class:"flex items-center w-full mb-6"},Q={class:"flex justify-between border-t border-t-gray-200 bg-white mt-6 sticky bottom-0 p-4"},W=["disabled"],lt={__name:"ApplyPage",props:{uuid:String,publication:Object,user:Object},setup(s){const k=L.usePage(),b=N(()=>{const u=k.url.value||"";return new URLSearchParams(u.split("?")[1]||"").get("not_apply")||!1}),j=s,g=u=>new Date(u).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),{form:S,payLoad:A,documentPreview:C,currentStep:d,components:p,nextStep:y,prevStep:f,submitForm:V}=F(),c=z(!1);A(j?.user?.data?.application);const P=async(u,e=!1)=>{c.value=!0,await V(u),c.value=!1};return(u,e)=>(n(),r("div",q,[x(B,{user:s.user.data},null,8,["user"]),x(D,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=a=>c.value=a),text:"Traitement..."},null,8,["modelValue"]),t("div",K,[e[10]||(e[10]=t("a",{href:"/",class:"px-4 py-2 text-sm font-medium bg-gray-100 text-primary rounded-xl hover:shadow-lg hover:bg-gray-200 inline-flex items-center gap-2 transition-all duration-200 mb-3"},[t("i",{class:"uil uil-arrow-left"}),i(" Back to Home ")],-1)),s.publication?(n(),r("div",O,[t("h2",U,l(s.publication.job.position_title),1),t("p",H,l(s.publication.job.center)+" • "+l(s.publication.job.city_duty_station)+", "+l(s.publication.job.country_duty_station),1),t("div",Y,[t("p",null,[e[4]||(e[4]=t("strong",null,"Reference:",-1)),i(" "+l(s.publication.reference),1)]),t("p",null,[e[5]||(e[5]=t("strong",null,"Type:",-1)),i(" "+l(s.publication.type),1)]),t("p",null,[e[6]||(e[6]=t("strong",null,"Published on:",-1)),i(" "+l(g(s.publication.published_at)),1)]),t("p",null,[e[7]||(e[7]=t("strong",null,"Expires on:",-1)),i(" "+l(g(s.publication.expires_at)),1)])])])):(n(),r("div",G,[...e[8]||(e[8]=[t("h3",{class:"text-xl font-semibold text-gray-800 mb-4 text-center"},[i(" Complétez ou mettez à jour vos informations"),t("br"),t("span",{class:"text-gray-500 text-base"},"Complete or update your information")],-1)])])),t("div",I,[e[9]||(e[9]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 text-center"},[i(" Votre candidature"),t("br"),t("span",{class:"text-gray-500 text-base"},"Your Application")],-1)),t("div",J,[t("div",M,[(n(!0),r(w,null,E(o(p),(a,m)=>(n(),r(w,{key:m},[t("div",{class:h(["w-10 h-10 flex items-center justify-center rounded-full font-semibold",m<=o(d)?"bg-secondary text-white":"bg-gray-300 text-gray-700"])},l(m+1),3),m<o(p).length-1?(n(),r("div",{key:0,class:h(["flex-1 h-1",m<o(d)?"bg-secondary":"bg-gray-300"])},null,2)):R("",!0)],64))),128))]),(n(),v($,null,[(n(),v(T(o(p)[o(d)]),{documents:o(C),form:o(S),notApply:b.value},null,8,["documents","form","notApply"]))],1024)),t("div",Q,[t("button",{onClick:e[1]||(e[1]=(...a)=>o(f)&&o(f)(...a)),class:"px-4 py-2 cursor-pointer bg-gray-400 text-white rounded-lg",disabled:o(d)===0}," Previous ",8,W),o(d)<o(p).length-1?(n(),r("button",{key:0,onClick:e[2]||(e[2]=(...a)=>o(y)&&o(y)(...a)),class:"px-4 py-2 cursor-pointer bg-primary text-white rounded-lg"}," Next ")):(n(),r("button",{key:1,onClick:e[3]||(e[3]=a=>P(s.uuid,b.value)),class:"px-4 py-2 cursor-pointer bg-green-600 text-white rounded-lg"}," Submit "))])])])])]))}};export{lt as default};
