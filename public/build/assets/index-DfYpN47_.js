import E from"./FormField-Dvud-3UC.js";import{p as B,c as a,o as e,e as u,F as v,h as f,i as $,u as V,g as M,d as q,t as H,k as G,b as J,B as Z}from"./app-CcQwI83w.js";import{d as Q}from"./index-DeP6ZUfg.js";const Y={class:"w-full"},W=["onClick"],X=B({__name:"ApplyStepDiplomas",props:{form:Object,fieldDiploma:Array},setup(t){const s=t,{fieldDiploma:S,initDiploma:d}=z(),y=()=>{if(s.form.diplomas.length>=3)return alert("Vous avez atteint la limite de diplôme."),!1;s.form.diplomas.push({...d})},h=r=>{s.form.diplomas.splice(r,1)};return(r,c)=>(e(),a("div",Y,[c[0]||(c[0]=u("h2",{class:"text-xl font-bold mb-4"},"Vos 3 derniers diplômes",-1)),(e(!0),a(v,null,f(t.form.diplomas,(x,b)=>(e(),a("div",{class:"w-full mb-2 border-b border-b-gray-300 py-3",key:b},[(e(!0),a(v,null,f(V(S),(m,w)=>(e(),a("div",{class:"w-full flex gap-2",key:w},[(e(!0),a(v,null,f(m,k=>(e(),M(E,{key:k.key,field:k,modelValue:t.form.diplomas[b][k.key],"onUpdate:modelValue":_=>t.form.diplomas[b][k.key]=_},null,8,["field","modelValue","onUpdate:modelValue"]))),128))]))),128)),b>0?(e(),a("button",{key:0,type:"button",onClick:()=>h(b),class:"p-1 w-full bg-red-50 text-red-900 text-[11px] font-bold cursor-pointer rounded-md border border-gray-200 mt-2"}," Supprimer ce diplôme ",8,W)):$("",!0)]))),128)),u("button",{type:"button",onClick:y,class:"p-1 w-full bg-gray-50 my-3 text-[11px] font-bold cursor-pointer rounded-md border border-gray-200"},"Ajouter un diplôme")]))}}),ee={class:"w-full"},ae=["onClick"],le=B({__name:"ApplyStepExperience",props:{form:Object},setup(t){const s=t,{fieldExperience:S,initExperience:d}=z(),y=()=>{if(s.form.experience.length>=3)return alert("Vous avez atteint la limite de expérience."),!1;s.form.experience.push({...d})},h=r=>{s.form.experience.splice(r,1)};return(r,c)=>(e(),a("div",ee,[c[0]||(c[0]=u("h2",{class:"text-xl font-bold mb-4"},"Votre plus récente expérience",-1)),(e(!0),a(v,null,f(t.form.experience,(x,b)=>(e(),a("div",{class:"w-full mb-2 border-b border-b-gray-300 py-3",key:b},[(e(!0),a(v,null,f(V(S),(m,w)=>(e(),a("div",{class:"w-full flex gap-2",key:w},[(e(!0),a(v,null,f(m,k=>(e(),M(E,{key:k.key,field:k,modelValue:t.form.experience[b][k.key],"onUpdate:modelValue":_=>t.form.experience[b][k.key]=_},null,8,["field","modelValue","onUpdate:modelValue"]))),128))]))),128)),b>0?(e(),a("button",{key:0,type:"button",onClick:()=>h(b),class:"p-1 w-full bg-red-50 text-red-900 text-[11px] font-bold cursor-pointer rounded-md border border-gray-200 mt-2"}," Supprimer cette expérience ",8,ae)):$("",!0)]))),128)),u("button",{type:"button",onClick:y,class:"p-1 w-full bg-gray-50 my-3 text-[11px] font-bold cursor-pointer rounded-md border border-gray-200"},"Ajouter un expérience")]))}}),ne={class:"w-full"},te={class:"w-full"},ie=B({__name:"ApplyStepIdentification",props:{form:Object},setup(t){const{fieldIdentification:s}=z();return(S,d)=>(e(),a("div",ne,[d[0]||(d[0]=u("h2",{class:"text-xl font-bold mb-4"},"Identification",-1)),(e(!0),a(v,null,f(V(s),(y,h)=>(e(),a("div",{class:"w-full p-2",key:h},[u("div",te,[(e(!0),a(v,null,f(y,r=>(e(),M(E,{key:r.key,field:r,modelValue:t.form.identification[r.key],"onUpdate:modelValue":c=>t.form.identification[r.key]=c},null,8,["field","modelValue","onUpdate:modelValue"]))),128))])]))),128))]))}}),re={class:"w-full"},oe={class:"w-full"},ue=B({__name:"ApplyStepOrigin",props:{form:Object},setup(t){const{fieldOrigin:s}=z();return(S,d)=>(e(),a("div",re,[d[0]||(d[0]=u("h2",{class:"text-xl font-bold mb-4"},"Origin , Experiences and Languages",-1)),(e(!0),a(v,null,f(V(s),(y,h)=>(e(),a("div",{class:"w-full p-2",key:h},[u("div",oe,[(e(!0),a(v,null,f(y,r=>(e(),M(E,{key:r.key,field:r,modelValue:t.form.origin[r.key],"onUpdate:modelValue":c=>t.form.origin[r.key]=c},null,8,["field","modelValue","onUpdate:modelValue"]))),128))])]))),128))]))}}),se={class:"w-full"},de={class:"w-full"},ce=["onClick"],be={class:"w-full"},me={class:"cursor-pointer"},pe={class:"border border-dashed p-5 flex flex-col w-full text-center cursor-pointer"},ve={class:"flex items-center justify-center space-x-2 bg-green-100 text-green-800 px-3 py-2 rounded border border-green-300"},fe={class:"font-medium max-w-xs truncate"},ye=B({__name:"ApplyStepEnd",props:{form:Object},setup(t){const s=t,S={id:null,full_name:"douma",function:"armand",phone:"0778618454",email:"douma@gmail.com"},{fieldDocument:d,fieldReference:y}=z(),h=()=>{if(s.form.reference.length>=3)return alert("Vous avez atteint la limite de références."),!1;s.form.reference.push({...S})},r=c=>{s.form.reference.splice(c,1)};return(c,x)=>(e(),a("div",se,[u("div",de,[x[0]||(x[0]=u("h2",{class:"text-xl font-bold mb-4"},"References",-1)),(e(!0),a(v,null,f(t.form.reference,(b,m)=>(e(),a("div",{class:"w-full mb-2 border-b border-b-gray-300 py-3",key:m},[(e(!0),a(v,null,f(V(y),(w,k)=>(e(),a("div",{class:"w-full flex gap-2",key:k},[(e(!0),a(v,null,f(w,_=>(e(),M(E,{key:_.key,field:_,modelValue:t.form.reference[m][_.key],"onUpdate:modelValue":D=>t.form.reference[m][_.key]=D},null,8,["field","modelValue","onUpdate:modelValue"]))),128))]))),128)),m>0?(e(),a("button",{key:0,type:"button",onClick:()=>r(m),class:"p-1 w-full bg-red-50 text-red-900 text-[11px] font-bold cursor-pointer rounded-md border border-gray-200 mt-2"}," Supprimer cette référence ",8,ce)):$("",!0)]))),128)),u("button",{type:"button",onClick:h,class:"p-1 w-full bg-gray-50 my-3 text-[11px] font-bold cursor-pointer rounded-md border border-gray-200"},"Ajouter une reference")]),u("div",be,[x[3]||(x[3]=u("h2",{class:"text-xl font-bold mb-4"},"CV and Cover letter",-1)),(e(!0),a(v,null,f(V(d),(b,m)=>(e(),a("div",{class:"w-full mb-4",key:m},[u("label",me,[q(E,{field:b,modelValue:t.form.documents[m].file,"onUpdate:modelValue":w=>t.form.documents[m].file=w},null,8,["field","modelValue","onUpdate:modelValue"]),u("div",pe,[x[2]||(x[2]=u("span",{class:"text-gray-500"}," Cliquez ici pour télécharger le fichier ",-1)),u("span",ve,[x[1]||(x[1]=u("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},[u("path",{fill:"currentColor",d:"m19.21 12.04l-1.53-.11l-.3-1.5A5.484 5.484 0 0 0 12 6C9.94 6 8.08 7.14 7.12 8.96l-.5.95l-1.07.11A3.99 3.99 0 0 0 2 14c0 2.21 1.79 4 4 4h13c1.65 0 3-1.35 3-3c0-1.55-1.22-2.86-2.79-2.96m-5.76.96v3h-2.91v-3H8l4-4l4 4z",opacity:".3"}),u("path",{fill:"currentColor",d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5c0-2.64-2.05-4.78-4.65-4.96M19 18H6c-2.21 0-4-1.79-4-4c0-2.05 1.53-3.76 3.56-3.97l1.07-.11l.5-.95A5.47 5.47 0 0 1 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5l1.53.11A2.98 2.98 0 0 1 22 15c0 1.65-1.35 3-3 3M8 13h2.55v3h2.9v-3H16l-4-4z"})],-1)),u("span",fe,H(t.form.documents[m].file?.name),1)])])])]))),128))])]))}}),ge={class:"w-full"},he={class:"w-full"},ke=B({__name:"ApplyStepCgiar",props:{form:Object},setup(t){const{cgiarFiled:s}=z();return(S,d)=>(e(),a("div",ge,[d[0]||(d[0]=u("h2",{class:"text-xl font-bold mb-4"},"Cgiar informations",-1)),(e(!0),a(v,null,f(V(s),(y,h)=>(e(),a("div",{class:"w-full p-2",key:h},[u("div",he,[(e(!0),a(v,null,f(y,r=>(e(),M(E,{key:r.key,field:r,modelValue:t.form.cgiar_information[r.key],"onUpdate:modelValue":c=>t.form.cgiar_information[r.key]=c,disabled:r.type!="checkbox"&&!t.form.cgiar_information.current},null,8,["field","modelValue","onUpdate:modelValue","disabled"]))),128))])]))),128))]))}}),I=[{label:"Afghanistan",value:"Afghanistan"},{label:"Albania",value:"Albania"},{label:"Algeria",value:"Algeria"},{label:"Andorra",value:"Andorra"},{label:"Angola",value:"Angola"},{label:"Antigua and Barbuda",value:"Antigua and Barbuda"},{label:"Argentina",value:"Argentina"},{label:"Armenia",value:"Armenia"},{label:"Australia",value:"Australia"},{label:"Austria",value:"Austria"},{label:"Azerbaijan",value:"Azerbaijan"},{label:"Bahamas",value:"Bahamas"},{label:"Bahrain",value:"Bahrain"},{label:"Bangladesh",value:"Bangladesh"},{label:"Barbados",value:"Barbados"},{label:"Belarus",value:"Belarus"},{label:"Belgium",value:"Belgium"},{label:"Belize",value:"Belize"},{label:"Benin",value:"Benin"},{label:"Bhutan",value:"Bhutan"},{label:"Bolivia",value:"Bolivia"},{label:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{label:"Botswana",value:"Botswana"},{label:"Brazil",value:"Brazil"},{label:"Brunei",value:"Brunei"},{label:"Bulgaria",value:"Bulgaria"},{label:"Burkina Faso",value:"Burkina Faso"},{label:"Burundi",value:"Burundi"},{label:"Cabo Verde",value:"Cabo Verde"},{label:"Cambodia",value:"Cambodia"},{label:"Cameroon",value:"Cameroon"},{label:"Canada",value:"Canada"},{label:"Central African Republic",value:"Central African Republic"},{label:"Chad",value:"Chad"},{label:"Chile",value:"Chile"},{label:"China",value:"China"},{label:"Colombia",value:"Colombia"},{label:"Comoros",value:"Comoros"},{label:"Congo (Brazzaville)",value:"Congo (Brazzaville)"},{label:"Congo (Kinshasa)",value:"Congo (Kinshasa)"},{label:"Costa Rica",value:"Costa Rica"},{label:"Côte d'Ivoire",value:"Côte d'Ivoire"},{label:"Croatia",value:"Croatia"},{label:"Cuba",value:"Cuba"},{label:"Cyprus",value:"Cyprus"},{label:"Czechia",value:"Czechia"},{label:"Denmark",value:"Denmark"},{label:"Djibouti",value:"Djibouti"},{label:"Dominica",value:"Dominica"},{label:"Dominican Republic",value:"Dominican Republic"},{label:"Ecuador",value:"Ecuador"},{label:"Egypt",value:"Egypt"},{label:"El Salvador",value:"El Salvador"},{label:"Equatorial Guinea",value:"Equatorial Guinea"},{label:"Eritrea",value:"Eritrea"},{label:"Estonia",value:"Estonia"},{label:"Eswatini",value:"Eswatini"},{label:"Ethiopia",value:"Ethiopia"},{label:"Fiji",value:"Fiji"},{label:"Finland",value:"Finland"},{label:"France",value:"France"},{label:"Gabon",value:"Gabon"},{label:"Gambia",value:"Gambia"},{label:"Georgia",value:"Georgia"},{label:"Germany",value:"Germany"},{label:"Ghana",value:"Ghana"},{label:"Greece",value:"Greece"},{label:"Grenada",value:"Grenada"},{label:"Guatemala",value:"Guatemala"},{label:"Guinea",value:"Guinea"},{label:"Guinea-Bissau",value:"Guinea-Bissau"},{label:"Guyana",value:"Guyana"},{label:"Haiti",value:"Haiti"},{label:"Honduras",value:"Honduras"},{label:"Hungary",value:"Hungary"},{label:"Iceland",value:"Iceland"},{label:"India",value:"India"},{label:"Indonesia",value:"Indonesia"},{label:"Iran",value:"Iran"},{label:"Iraq",value:"Iraq"},{label:"Ireland",value:"Ireland"},{label:"Israel",value:"Israel"},{label:"Italy",value:"Italy"},{label:"Jamaica",value:"Jamaica"},{label:"Japan",value:"Japan"},{label:"Jordan",value:"Jordan"},{label:"Kazakhstan",value:"Kazakhstan"},{label:"Kenya",value:"Kenya"},{label:"Kiribati",value:"Kiribati"},{label:"North Korea",value:"North Korea"},{label:"South Korea",value:"South Korea"},{label:"Kuwait",value:"Kuwait"},{label:"Kyrgyzstan",value:"Kyrgyzstan"},{label:"Laos",value:"Laos"},{label:"Latvia",value:"Latvia"},{label:"Lebanon",value:"Lebanon"},{label:"Lesotho",value:"Lesotho"},{label:"Liberia",value:"Liberia"},{label:"Libya",value:"Libya"},{label:"Liechtenstein",value:"Liechtenstein"},{label:"Lithuania",value:"Lithuania"},{label:"Luxembourg",value:"Luxembourg"},{label:"Madagascar",value:"Madagascar"},{label:"Malawi",value:"Malawi"},{label:"Malaysia",value:"Malaysia"},{label:"Maldives",value:"Maldives"},{label:"Mali",value:"Mali"},{label:"Malta",value:"Malta"},{label:"Marshall Islands",value:"Marshall Islands"},{label:"Mauritania",value:"Mauritania"},{label:"Mauritius",value:"Mauritius"},{label:"Mexico",value:"Mexico"},{label:"Micronesia",value:"Micronesia"},{label:"Moldova",value:"Moldova"},{label:"Monaco",value:"Monaco"},{label:"Mongolia",value:"Mongolia"},{label:"Montenegro",value:"Montenegro"},{label:"Morocco",value:"Morocco"},{label:"Mozambique",value:"Mozambique"},{label:"Myanmar",value:"Myanmar"},{label:"Namibia",value:"Namibia"},{label:"Nauru",value:"Nauru"},{label:"Nepal",value:"Nepal"},{label:"Netherlands",value:"Netherlands"},{label:"New Zealand",value:"New Zealand"},{label:"Nicaragua",value:"Nicaragua"},{label:"Niger",value:"Niger"},{label:"Nigeria",value:"Nigeria"},{label:"North Macedonia",value:"North Macedonia"},{label:"Norway",value:"Norway"},{label:"Oman",value:"Oman"},{label:"Pakistan",value:"Pakistan"},{label:"Palau",value:"Palau"},{label:"Panama",value:"Panama"},{label:"Papua New Guinea",value:"Papua New Guinea"},{label:"Paraguay",value:"Paraguay"},{label:"Peru",value:"Peru"},{label:"Philippines",value:"Philippines"},{label:"Poland",value:"Poland"},{label:"Portugal",value:"Portugal"},{label:"Qatar",value:"Qatar"},{label:"Romania",value:"Romania"},{label:"Russia",value:"Russia"},{label:"Rwanda",value:"Rwanda"},{label:"Saint Kitts and Nevis",value:"Saint Kitts and Nevis"},{label:"Saint Lucia",value:"Saint Lucia"},{label:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{label:"Samoa",value:"Samoa"},{label:"San Marino",value:"San Marino"},{label:"Sao Tome and Principe",value:"Sao Tome and Principe"},{label:"Saudi Arabia",value:"Saudi Arabia"},{label:"Senegal",value:"Senegal"},{label:"Serbia",value:"Serbia"},{label:"Seychelles",value:"Seychelles"},{label:"Sierra Leone",value:"Sierra Leone"},{label:"Singapore",value:"Singapore"},{label:"Slovakia",value:"Slovakia"},{label:"Slovenia",value:"Slovenia"},{label:"Solomon Islands",value:"Solomon Islands"},{label:"Somalia",value:"Somalia"},{label:"South Africa",value:"South Africa"},{label:"South Sudan",value:"South Sudan"},{label:"Spain",value:"Spain"},{label:"Sri Lanka",value:"Sri Lanka"},{label:"Sudan",value:"Sudan"},{label:"Suriname",value:"Suriname"},{label:"Sweden",value:"Sweden"},{label:"Switzerland",value:"Switzerland"},{label:"Syria",value:"Syria"},{label:"Tajikistan",value:"Tajikistan"},{label:"Tanzania",value:"Tanzania"},{label:"Thailand",value:"Thailand"},{label:"Timor-Leste",value:"Timor-Leste"},{label:"Togo",value:"Togo"},{label:"Tonga",value:"Tonga"},{label:"Trinidad and Tobago",value:"Trinidad and Tobago"},{label:"Tunisia",value:"Tunisia"},{label:"Turkey",value:"Turkey"},{label:"Turkmenistan",value:"Turkmenistan"},{label:"Tuvalu",value:"Tuvalu"},{label:"Uganda",value:"Uganda"},{label:"Ukraine",value:"Ukraine"},{label:"United Arab Emirates",value:"United Arab Emirates"},{label:"United Kingdom",value:"United Kingdom"},{label:"United States",value:"United States"},{label:"Uruguay",value:"Uruguay"},{label:"Uzbekistan",value:"Uzbekistan"},{label:"Vanuatu",value:"Vanuatu"},{label:"Venezuela",value:"Venezuela"},{label:"Vietnam",value:"Vietnam"},{label:"Yemen",value:"Yemen"},{label:"Zambia",value:"Zambia"},{label:"Zimbabwe",value:"Zimbabwe"}];function z(){const t=[X,ke,le,ie,ue,ye],s={id:null,full_name:"",function:"",phone:"",email:""},S={id:null,file:null},d={id:null,diploma:"",option:""},y={id:null,company_name:"",position:"",start_date:"",end_date:"",current:""},h=[[{type:"text",key:"position_title",label:"Titre du post"},{type:"select",options:[...I],key:"country_duty_station",label:"Pays"}],[],[{type:"date",key:"published_at",label:"Publié le"},{type:"date",key:"expires_at",label:"Date de cloture"}],[{type:"checkbox",key:"is_published",label:"Cocher pour publier"}]],r=[{type:"file",key:"resume",label:""}],c=[[{type:"text",key:"diploma",label:"Diplôme "},{type:"text",key:"option",label:"Option Diplôme "}]],x=[[{type:"text",key:"company_name",label:"Nom de l'entreprise"},{type:"text",key:"position",label:"Fonction"}],[{type:"date",key:"start_date",label:"Date de début"},{type:"date",key:"end_date",label:"Date de fin"}]],b=[[{type:"checkbox",key:"current",label:"Cochez si vous y travaillez actuellement"}],[{type:"text",key:"cgiar_center",label:"Dans lequel des centres CGIAR avez-vous déjà travaillé ?"}],[{type:"text",key:"cgiar_email",label:"Indiquez votre email cgiar.org"}]],m=[[{type:"text",key:"company_name",label:"Nom de l'entreprise"},{type:"text",key:"position",label:"Fonction"}],[{type:"date",key:"start_date",label:"Date de début"},{type:"date",key:"end_date",label:"Date de fin"}]],w=[[{type:"date",key:"birth_date",label:"Date de naissance"},{type:"text",key:"address",label:"Adresse"}],[{type:"select",key:"gender",label:"Genre",options:[{label:"homme",value:"male"},{label:"femme",value:"female"}]}]],k=[[{type:"select",options:[...I],key:"nationality",label:"Nationalité | Nationality"},{type:"select",options:[...I],key:"country",label:"Pays de résidence | Country of residence"}],[{type:"text",key:"city",label:"Ville de résidence | City of residence"},{type:"number",key:"experience_years",label:"Années d'expérience"}],[{type:"select",key:"french_level",options:[{label:"school",value:"Scolaire"},{label:"Débutant",value:"beginner"},{label:"intermediate",value:"Intermédiaire"},{label:"advanced",value:"Avancé"},{label:"expert",value:"Expert"},{label:"proficient",value:"Maîtrise"},{label:"native",value:"Natif"}],label:"Niveau français"},{type:"select",key:"english_level",options:[{label:"school",value:"Scolaire"},{label:"Débutant",value:"beginner"},{label:"intermediate",value:"Intermédiaire"},{label:"advanced",value:"Avancé"},{label:"expert",value:"Expert"},{label:"proficient",value:"Maîtrise"},{label:"native",value:"Natif"}],label:"Niveau anglais"}]],_=[{type:"file",key:"resume",label:"Charger votre CV"},{type:"file",key:"cover_letter",label:"Charger votre lettre de motivation"}],D=[[{type:"text",key:"full_name",label:"Nom et prénoms"},{type:"text",key:"email",label:"Email"}],[{type:"text",key:"phone",label:"Téléphone"},{type:"text",key:"function",label:"Function"}]],p=G({diplomas:[{...d}],cgiar_information:{current:!0,cgiar_center:"",cgiar_email:""},experience:[{...y}],identification:{birth_date:"",address:"",gender:""},origin:{nationality:"",country:"",city:"",experience_years:"",french_level:"",english_level:""},reference:[{...s}],documents:[{...S},{...S}]}),T=G({offre:{position_title:"",country_duty_station:"france",published_at:"",expires_at:"",is_published:!0},document:[]});let N=J(0);const j=()=>{N.value<t.length-1&&N.value++},L=()=>{p.reference.push({...s}),console.log(p.reference)},U=o=>{p.reference.splice(o,1)},O=()=>{N.value>0&&N.value--},P=(o,n,l)=>{const g=o.target.files[0];g&&(p[n][l]=g)};function F(o){let n=[];return!o.diplomas||o.diplomas.length===0?n.push("Au moins un diplôme est requis."):o.diplomas.forEach((l,g)=>{(!l.diploma||!l.option)&&n.push(`Diplôme ${g+1}: diplôme et option obligatoires.`)}),!o.experience||o.experience.length===0?n.push("Au moins une expérience est requise."):o.experience.forEach((l,g)=>{(!l.company_name||!l.position||!l.start_date)&&n.push(`Expérience ${g+1}: nom de l’entreprise, poste et date de début obligatoires.`)}),(!o.identification||!o.identification.birth_date||!o.identification.gender)&&n.push("Les informations d’identification (date de naissance et genre) sont obligatoires."),(!o.origin||!o.origin.nationality||!o.origin.country)&&n.push("Nationalité et pays d’origine obligatoires."),!o.reference||o.reference.length===0?n.push("Au moins une référence est requise."):o.reference.forEach((l,g)=>{(!l.full_name||!l.email||!l.phone)&&n.push(`Référence ${g+1}: nom, email et téléphone obligatoires.`)}),(!o.documents||o.documents.filter(l=>l.file!==null&&l.file!=="").length<2)&&n.push("Veuillez télécharger au moins deux documents."),n}const K=async o=>{try{const n=F(p);if(n.length>0)return alert(`Erreurs trouvées:
- `+n.join(`
- `)),!1;const l=new FormData;l.append("uuid",o),Object.keys(p.identification).forEach(i=>{l.append(`identification[${i}]`,p.identification[i])}),Object.keys(p.origin).forEach(i=>{l.append(`origin[${i}]`,p.origin[i])}),p.diplomas.forEach((i,C)=>{Object.keys(i).forEach(A=>{l.append(`diplomas[${C}][${A}]`,i[A])})}),p.experience.forEach((i,C)=>{Object.keys(i).forEach(A=>{l.append(`experience[${C}][${A}]`,i[A])})}),p.reference.forEach((i,C)=>{Object.keys(i).forEach(A=>{l.append(`reference[${C}][${A}]`,i[A])})}),Object.keys(p.cgiar_information).forEach(i=>{l.append(`cgiar_information[${i}]`,p.cgiar_information[i])}),p.documents.forEach((i,C)=>{i.id&&l.append(`documents[${C}][id]`,i.id),i.file&&l.append(`documents[${C}][file]`,i.file)});const g=await window.axios.post("/apply-job/save",l,{headers:{"Content-Type":"multipart/form-data"}});console.log("Réponse du serveur :",g.data?.data?.message),alert("Candidature envoyée avec succès ✅")}catch(n){let l=n.response?.data?.message?n.response?.data?.message:"Erreur lors de l'envoi du formulaire ❌";if(n.response&&n.response.data&&n.response.data.errors){const g=Object.values(n.response.data.errors).flat().join(`
`);alert(g)}else alert(l);console.error("Erreur lors de l'envoi du formulaire :",n.response?.data?.errors||n)}};async function R(o){try{const n=Z(o),l=new FormData;for(const i in n.offre)l.append(`offre[${i}]`,n.offre[i]);n.document.forEach((i,C)=>{l.append(`documents[${C}]`,i)});const g=await axios.post("/manager/offre/add",l,{headers:{"Content-Type":"multipart/form-data"}});Q.Inertia.reload(),console.log("Offre envoyée ✅",g.data)}catch(n){let l=n.response?.data?.message?n.response?.data?.message:"Erreur lors de l'envoi du formulaire ❌";console.error("Erreur lors de l'envoi du formulaire :",n.response||n),alert(l)}}return{form:p,currentStep:N,handleFile:P,nextStep:j,prevStep:O,submitForm:K,components:t,fieldDiploma:c,fieldExperienceOther:m,fieldExperience:x,fieldIdentification:w,fieldOrigin:k,fieldDocument:_,fieldReference:D,addReference:L,removeReference:U,initReference:s,initDiploma:d,initExperience:y,cgiarFiled:b,fieldAddOffre:h,newOffre:T,fieldAddDocument:r,submitOffre:R}}export{ke as _,X as a,ye as b,le as c,ie as d,ue as e,z as u};
