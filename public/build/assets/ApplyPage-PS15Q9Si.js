import{_ as D}from"./NavBar.vue_vue_type_script_setup_true_lang-CUn7-RHN.js";import F from"./OverlayLoader-DIYeU70C.js";import{u as B}from"./index-B_DS-xK_.js";import"./AuthUser.vue_vue_type_script_setup_true_lang-DbZjk_0i.js";import{r as L,c as i,o as s,a as f,b as t,t as l,d as b,e as x,F as v,f as N,g as P,n as w,u as o,h as A,K as E}from"./app-Cyf-MJ6O.js";import"./FormField-ZH07JBt7.js";import"./index-Dbzu_UC8.js";const T={class:"w-full bg-gray-50"},$={class:"max-w-xl mx-auto"},K={class:"bg-white border border-gray-200 rounded-lg p-5 mb-6"},O={class:"text-xl font-semibold"},R={class:"text-gray-600"},z={class:"mt-3 grid grid-cols-2 gap-4 text-sm text-gray-700"},U={class:"bg-white border border-gray-200 rounded-lg p-5"},q={class:"w-full"},G={class:"flex items-center w-full mb-6"},H={class:"flex justify-between border-t border-t-gray-200 bg-white mt-6 sticky bottom-0 p-4"},I=["disabled"],_={__name:"ApplyPage",props:{uuid:String,publication:Object,user:Object},setup(n){const k=n,p=c=>new Date(c).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),{form:h,payLoad:j,documentPreview:S,currentStep:a,components:d,nextStep:g,prevStep:y,submitForm:V}=B(),m=L(!1);j(k?.user?.data?.application);const C=async c=>{m.value=!0,await V(c),m.value=!1};return(c,e)=>(s(),i("div",T,[f(D,{user:n.user.data},null,8,["user"]),f(F,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=r=>m.value=r),text:"Traitement..."},null,8,["modelValue"]),t("div",$,[e[9]||(e[9]=t("pre",null,`        
        
         
         
       `,-1)),e[10]||(e[10]=t("a",{href:"/",class:"text-3xl max-w-max text-center mb-2 cursor-pointer block rounded-lg"},[t("i",{class:"uil uil-arrow-left"})],-1)),t("div",K,[t("h2",O,l(n.publication.job.position_title),1),t("p",R,l(n.publication.job.center)+" • "+l(n.publication.job.city_duty_station)+", "+l(n.publication.job.country_duty_station),1),t("div",z,[t("p",null,[e[4]||(e[4]=t("strong",null,"Référence :",-1)),b(" "+l(n.publication.reference),1)]),t("p",null,[e[5]||(e[5]=t("strong",null,"Type :",-1)),b(" "+l(n.publication.type),1)]),t("p",null,[e[6]||(e[6]=t("strong",null,"Publié le :",-1)),b(" "+l(p(n.publication.published_at)),1)]),t("p",null,[e[7]||(e[7]=t("strong",null,"Expire le :",-1)),b(" "+l(p(n.publication.expires_at)),1)])])]),t("div",U,[e[8]||(e[8]=t("h3",{class:"text-lg font-semibold mb-4"},"Votre candidature",-1)),t("div",q,[t("div",G,[(s(!0),i(v,null,N(o(d),(r,u)=>(s(),i(v,{key:u},[t("div",{class:w(["w-10 h-10 flex items-center justify-center rounded-full font-semibold",u<=o(a)?"bg-secondary text-white":"bg-gray-300 text-gray-700"])},l(u+1),3),u<o(d).length-1?(s(),i("div",{key:0,class:w(["flex-1 h-1",u<o(a)?"bg-secondary":"bg-gray-300"])},null,2)):P("",!0)],64))),128))]),(s(),x(E,null,[(s(),x(A(o(d)[o(a)]),{documents:o(S),form:o(h)},null,8,["documents","form"]))],1024)),t("div",H,[t("button",{onClick:e[1]||(e[1]=(...r)=>o(y)&&o(y)(...r)),class:"px-4 py-2 cursor-pointer bg-gray-400 text-white rounded-lg",disabled:o(a)===0}," Précédent ",8,I),o(a)<o(d).length-1?(s(),i("button",{key:0,onClick:e[2]||(e[2]=(...r)=>o(g)&&o(g)(...r)),class:"px-4 py-2 cursor-pointer bg-primary text-white rounded-lg"}," Suivant ")):(s(),i("button",{key:1,onClick:e[3]||(e[3]=r=>C(n.uuid)),class:"px-4 py-2 cursor-pointer bg-green-600 text-white rounded"}," Envoyer "))])])])])]))}};export{_ as default};
