import{p as E,k as V,r as C,c as F,C as j,g as y,o as a,b as c,q as f,a as r,i as g,x as b,T as v,e as o,O as q,w as n,y as u,F as B,h as N,u as S,t as w,v as T,P as M,B as O}from"./app-CyUPfJQf.js";import{u as P}from"./index-Cwcf3g0y.js";import D from"./Spinnercomponent-afxuWD1f.js";import{d as A}from"./index-CjJ3LkBo.js";import{c as I}from"./country-DJW8tnyE.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./FormField-XV-VBm47.js";const G={key:0,class:"w-full max-w-2xl"},L={class:"relative flex h-auto m-auto w-2/3 flex-col overflow-hidden rounded-lg bg-white p-6 shadow-xl"},R={class:"mb-12 flex items-center justify-between"},H=["disabled"],J={class:"flex-1 space-y-4 px-2"},K={class:"flex flex-col sm:flex-row gap-3 w-full"},Q={class:"flex flex-col flex-1"},W={class:"flex flex-col flex-1"},X={class:"gap-3 w-full"},Y={class:"flex mb-3 flex-col flex-1"},Z={class:"flex"},$=["value"],ee={class:"flex flex-col flex-1"},oe={type:"submit",class:"flex items-center justify-center cursor-pointer bg-primary text-white py-3 rounded-lg hover:bg-primary-700 transition-all"},te={key:1},se=E({__name:"UpdateUser",props:{row:{type:[Boolean,null]}},emits:["close"],setup(_,{emit:h}){const i=_,p=h,s=V({name:"",last_name:"",email:"",phone:"",country_code:""});P();const d=C(!1),m=F(()=>!!i.row),x=()=>{p("close")};async function k(){try{d.value=!0;let l=await O.post("/register",s);A.Inertia.reload(),p("close")}catch(l){let e="Erreur lors de la vérification de l'email.";l?.response?.data?.errors?.length>0?e=Object.values(l?.response?.data?.errors).flat().flat().join(`
`):l?.response?.data?.message&&(e=l?.response?.data?.message),alert(e)}finally{d.value=!1}}const U=()=>{Object.keys(i.row).forEach(l=>{let e=i.row[l];s[l]=e})};return j(m,l=>{console.log(i.row),l?(document.body.style.overflow="hidden",U()):document.body.style.overflow=""}),(l,e)=>(a(),y(M,{to:"body"},[c(v,{name:"fade"},{default:f(()=>[m.value?(a(),r("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center overflow-auto bg-black/50 p-4",onClick:b(x,["self"])},[c(v,{name:"scale"},{default:f(()=>[m.value?(a(),r("div",G,[o("div",L,[o("div",R,[e[6]||(e[6]=o("div",null,[o("h2",{class:"text-xl font-semibold text-gray-800"}," Edit Profile ")],-1)),o("button",{type:"button",disabled:d.value,onClick:x,class:"text-gray-500 transition-colors hover:text-gray-700 disabled:opacity-50","aria-label":"Fermer"},[...e[5]||(e[5]=[o("i",{class:"uil uil-times text-2xl"},null,-1)])],8,H)]),o("div",J,[c(q,{name:"list",tag:"div",class:"space-y-2"},{default:f(()=>[o("form",{onSubmit:b(k,["prevent"]),class:"flex w-full flex-col gap-4"},[o("div",K,[o("div",Q,[e[7]||(e[7]=o("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Family Name / nom",-1)),n(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.name=t),type:"text",placeholder:"Enter your first name",required:"",class:"p-3 border w-full rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[u,s.name]])]),o("div",W,[e[8]||(e[8]=o("label",{class:"text-sm font-medium text-gray-700 mb-1"},"First Name / Prénoms",-1)),n(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.last_name=t),type:"text",placeholder:"Enter your last name",required:"",class:"p-3 border w-full rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[u,s.last_name]])])]),o("div",X,[o("div",Y,[e[9]||(e[9]=o("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Phone Number",-1)),o("div",Z,[n(o("select",{required:"","onUpdate:modelValue":e[2]||(e[2]=t=>s.country_code=t),class:"p-3 max-w-max border rounded-l-lg focus:ring-2 focus:ring-primary focus:outline-none"},[(a(!0),r(B,null,N(S(I),t=>(a(),r("option",{key:t.code,value:t.code},w(t.abbreviation)+" ("+w(t.code)+") ",9,$))),128))],512),[[T,s.country_code]]),n(o("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>s.phone=t),type:"tel",placeholder:"e.g. 07 00 00 00 00",required:"",class:"p-3 w-full border-t border-b border-r rounded-r-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[u,s.phone]])])]),o("div",ee,[e[10]||(e[10]=o("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Email Address",-1)),n(o("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>s.email=t),type:"email",placeholder:"example@mail.com",required:"",class:"p-3 border w-full rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[u,s.email]])])]),o("button",oe,[d.value?(a(),y(D,{key:0})):(a(),r("span",te,"Save"))])],32)]),_:1})])])])):g("",!0)]),_:1})])):g("",!0)]),_:1})]))}}),me=z(se,[["__scopeId","data-v-5ec64a98"]]);export{me as default};
