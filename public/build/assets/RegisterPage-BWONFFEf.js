import{k as f,d as c,c as p,r as g,a as n,o as r,e as t,x,w as a,y as i,v as b,F as y,h as v,t as _,u as w,g as h,f as q,B as j}from"./app-CyUPfJQf.js";import{d as k}from"./index-CjJ3LkBo.js";import E from"./Spinnercomponent-afxuWD1f.js";import{c as V}from"./country-DJW8tnyE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"min-h-screen flex items-center justify-center bg-white p-8"},S={class:"w-full max-w-md bg-white rounded-lg shadow p-8"},U={class:"flex flex-col sm:flex-row gap-3 w-full"},B={class:"flex flex-col flex-1"},N={class:"flex flex-col flex-1"},A={class:"gap-3 w-full"},C={class:"flex mb-3 flex-col flex-1"},D={class:"flex"},F=["value"],L={class:"flex flex-col flex-1"},M={type:"submit",class:"flex items-center justify-center cursor-pointer bg-primary text-white py-3 rounded-lg hover:bg-primary-700 transition-all"},R={key:1},G={__name:"RegisterPage",setup(T){const o=f({name:"",last_name:"",email:"",phone:"",country_code:"+225"}),u=c.usePage();p(()=>{const l=u.url.value||"";return new URLSearchParams(l.split("?")[1]||"").get("not_apply")||!1});const d=g(!1);async function m(){try{d.value=!0;let l=await j.post("/register",o);console.log(l),k.Inertia.visit("/verify?is_complete=true")}catch(l){let e="Erreur lors de la vérification de l'email.";l?.response?.data?.errors?.length>0?e=Object.values(l?.response?.data?.errors).flat().flat().join(`
`):l?.response?.data?.message&&(e=l?.response?.data?.message),alert(e)}finally{d.value=!1}}return(l,e)=>(r(),n("div",P,[t("div",S,[e[10]||(e[10]=t("div",{class:"flex justify-center mb-6"},[t("a",{href:"/"},[t("img",{src:"https://static.wixstatic.com/media/0839e4_7910df264aee46ba85347ab33684d739~mv2_d_4782_1488_s_2.png/v1/fill/w_520,h_160,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/0839e4_7910df264aee46ba85347ab33684d739~mv2_d_4782_1488_s_2.png",alt:"Logo",class:"w-40 object-contain"})])],-1)),e[11]||(e[11]=t("h2",{class:"text-2xl font-bold mb-6 text-center text-gray-800"}," Create Your Account ",-1)),t("form",{onSubmit:x(m,["prevent"]),class:"flex w-full flex-col gap-4"},[t("div",U,[t("div",B,[e[5]||(e[5]=t("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Family Name / nom",-1)),a(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.name=s),type:"text",placeholder:"Enter your first name",required:"",class:"p-3 border w-full rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[i,o.name]])]),t("div",N,[e[6]||(e[6]=t("label",{class:"text-sm font-medium text-gray-700 mb-1"},"First Name / Prénoms",-1)),a(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.last_name=s),type:"text",placeholder:"Enter your last name",required:"",class:"p-3 border w-full rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[i,o.last_name]])])]),t("div",A,[t("div",C,[e[7]||(e[7]=t("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Phone Number",-1)),t("div",D,[a(t("select",{required:"","onUpdate:modelValue":e[2]||(e[2]=s=>o.country_code=s),class:"p-3 max-w-max border rounded-l-lg focus:ring-2 focus:ring-primary focus:outline-none"},[(r(!0),n(y,null,v(w(V),s=>(r(),n("option",{key:s.code,value:s.code},_(s.code),9,F))),128))],512),[[b,o.country_code]]),a(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.phone=s),type:"tel",placeholder:"e.g. 07 00 00 00 00",required:"",class:"p-3 w-full border-t border-b border-r rounded-r-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[i,o.phone]])])]),t("div",L,[e[8]||(e[8]=t("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Email Address",-1)),a(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.email=s),type:"email",placeholder:"example@mail.com",required:"",class:"p-3 border w-full rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[i,o.email]])])]),e[9]||(e[9]=t("div",{class:"bg-blue-50 border-l-4 border-blue-500 text-blue-700 p-4 text-sm rounded-md",role:"alert"},[t("p",{class:"font-bold"},"Personal Information"),t("p",null,"The information you enter will be considered as personal.")],-1)),t("button",M,[d.value?(r(),h(E,{key:0})):(r(),n("span",R,"Create Account"))])],32),e[12]||(e[12]=t("p",{class:"mt-5 text-center text-gray-500 text-sm"},[q(" Déjà un compte ? /Already have an account? "),t("br"),t("a",{href:"/login",class:"text-indigo-600 hover:underline"},"Connectez-vous / Sign in")],-1))])]))}};export{G as default};
