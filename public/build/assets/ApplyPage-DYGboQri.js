import{_ as D}from"./NavBar.vue_vue_type_script_setup_true_lang-DpM3DBxA.js";import F from"./OverlayLoader-BmbVTazT.js";import{u as L}from"./index-DQ_7W_Ld.js";import{d as N,c as $,r as z,a as l,o as n,b as x,e as t,f as d,t as r,g as v,h,F as w,i as E,n as k,u as o,j as R,K as T}from"./app-D6zQCepI.js";import"./AuthUser.vue_vue_type_script_setup_true_lang-BMW7EOUk.js";import"./index-D-mk6Fga.js";import"./logo.vue_vue_type_script_setup_true_lang-BCpv7yT1.js";import"./FormField-VXVSvM_h.js";import"./FormFields-B2nzkUME.js";import"./phoneCodes-hIPL1_Jr.js";const q={class:"w-full bg-gray-50"},K={class:"max-w-xl mx-auto mt-4"},O={key:0,class:"border bg-white border-gray-200 rounded-lg p-5 mb-6"},U={class:"text-xl font-semibold mb-3"},H={class:"text-gray-600"},Y={class:"mt-3 grid grid-cols-2 gap-4 text-sm text-gray-700"},G={key:1},I={class:""},J={key:0,class:"text-lg font-semibold text-gray-800 mb-4"},M={class:"w-full bg-white border border-gray-200 rounded-lg p-5"},Q={class:"flex items-center w-full mb-6"},W=["onClick"],X={key:0},Z={key:1,class:"uil uil-pen"},tt={class:"w-full flex justify-between border-t-gray-200 mt-6 bottom-0 p-4"},et=["disabled"],pt={__name:"ApplyPage",props:{uuid:String,publication:Object,user:Object},setup(s){const j=N.usePage(),b=$(()=>{const u=j.url.value||"";return new URLSearchParams(u.split("?")[1]||"").get("not_apply")||!1}),C=s,g=u=>new Date(u).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),{form:y,payLoad:S,documentPreview:A,setStep:V,currentStep:i,components:c,nextStep:_,prevStep:f,submitForm:P}=L(),p=z(!1);S(C?.user?.data?.application);const B=async(u,e=!1)=>{p.value=!0,await P(u),p.value=!1};return(u,e)=>(n(),l("div",q,[x(D,{user:s.user.data},null,8,["user"]),x(F,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=m=>p.value=m),text:"Traitement..."},null,8,["modelValue"]),t("div",K,[e[9]||(e[9]=t("a",{href:"/",class:"px-4 py-2 text-sm font-medium bg-gray-100 text-primary rounded-xl hover:shadow-lg hover:bg-gray-200 inline-flex items-center gap-2 transition-all duration-200 mb-3"},[t("i",{class:"uil uil-arrow-left"}),d(" Back to Home ")],-1)),s.publication?(n(),l("div",O,[t("h2",U,r(s.publication.job.position_title),1),t("p",H,r(s.publication.job.center)+" • "+r(s.publication.job.city_duty_station)+", "+r(s.publication.job.country_duty_station),1),t("div",Y,[t("p",null,[e[4]||(e[4]=t("strong",null,"Reference:",-1)),d(" "+r(s.publication.reference),1)]),t("p",null,[e[5]||(e[5]=t("strong",null,"Type:",-1)),d(" "+r(s.publication.type),1)]),t("p",null,[e[6]||(e[6]=t("strong",null,"Published on:",-1)),d(" "+r(g(s.publication.published_at)),1)]),t("p",null,[e[7]||(e[7]=t("strong",null,"Expires on:",-1)),d(" "+r(g(s.publication.expires_at)),1)])])])):(n(),l("div",G,[...e[8]||(e[8]=[t("h3",{class:"text-xl font-semibold text-gray-800 mb-4 text-center"},[d(" Complétez ou mettez à jour vos informations"),t("br"),t("span",{class:"text-gray-500 text-base"},"Complete or update your information")],-1)])])),t("div",I,[s.publication?(n(),l("h3",J," Votre candidature / Your Application ")):v("",!0),t("div",M,[t("div",Q,[(n(!0),l(w,null,E(o(c),(m,a)=>(n(),l(w,{key:a},[t("div",{onClick:ot=>o(V)(a),class:k(["w-10 h-10 cursor-pointer flex items-center justify-center rounded-full font-semibold",a<=o(i)?"bg-secondary text-white":"bg-gray-300 text-gray-700"])},[o(i)<a?(n(),l("span",X,r(a+1),1)):(n(),l("i",Z))],10,W),a<o(c).length-1?(n(),l("div",{key:0,class:k(["flex-1 h-1",a<o(i)?"bg-secondary":"bg-gray-300"])},null,2)):v("",!0)],64))),128))]),(n(),h(T,null,[(n(),h(R(o(c)[o(i)]),{documents:o(A),form:o(y),notApply:b.value},null,8,["documents","form","notApply"]))],1024))]),t("div",tt,[t("button",{onClick:e[1]||(e[1]=(...m)=>o(f)&&o(f)(...m)),class:"px-4 py-2 cursor-pointer bg-gray-400 text-white rounded-lg",disabled:o(i)===0}," Previous ",8,et),o(i)<o(c).length-1?(n(),l("button",{key:0,onClick:e[2]||(e[2]=()=>o(_)(o(i),o(y))),class:"px-4 py-2 cursor-pointer bg-primary text-white rounded-lg"}," Next ")):(n(),l("button",{key:1,onClick:e[3]||(e[3]=m=>B(s.uuid,b.value)),class:"px-4 py-2 cursor-pointer bg-green-600 text-white rounded-lg"}," Submit "))])])])]))}};export{pt as default};
