import{_ as B}from"./NavBar.vue_vue_type_script_setup_true_lang-D_JnCY6l.js";import D from"./OverlayLoader-DosLhm2Q.js";import{u as F}from"./index-BmQEPH_6.js";import"./AuthUser.vue_vue_type_script_setup_true_lang-CNICEq58.js";import{r as N,c as i,o as n,a as f,b as t,d,t as l,e as x,F as v,f as A,g as L,n as w,u as o,h as P,K as T}from"./app-BnWUzFnP.js";import"./FormField-CJjeySJf.js";import"./index-CX19wX2R.js";import"./country-DJW8tnyE.js";const $={class:"w-full"},E={class:"max-w-xl mx-auto mt-4"},K={class:"bg-white border border-gray-200 rounded-lg p-5 mb-6"},O={class:"text-xl font-semibold mb-3"},R={class:"text-gray-600"},z={class:"mt-3 grid grid-cols-2 gap-4 text-sm text-gray-700"},H={class:"bg-white border border-gray-200 rounded-lg p-5"},U={class:"w-full"},Y={class:"flex items-center w-full mb-6"},q={class:"flex justify-between border-t border-t-gray-200 bg-white mt-6 sticky bottom-0 p-4"},G=["disabled"],tt={__name:"ApplyPage",props:{uuid:String,publication:Object,user:Object},setup(s){const h=s,p=b=>new Date(b).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),{form:k,payLoad:j,documentPreview:S,currentStep:a,components:m,nextStep:g,prevStep:y,submitForm:V}=F(),c=N(!1);j(h?.user?.data?.application);const C=async b=>{c.value=!0,await V(b),c.value=!1};return(b,e)=>(n(),i("div",$,[f(B,{user:s.user.data},null,8,["user"]),f(D,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=r=>c.value=r),text:"Traitement..."},null,8,["modelValue"]),t("div",E,[e[9]||(e[9]=t("a",{href:"/",class:"px-4 py-2 text-sm font-medium bg-gray-100 text-primary rounded-xl hover:shadow-lg hover:bg-gray-200 inline-flex items-center gap-2 transition-all duration-200 mb-3"},[t("i",{class:"uil uil-arrow-left"}),d(" Back to Home ")],-1)),t("div",K,[t("h2",O,l(s.publication.job.position_title),1),t("p",R,l(s.publication.job.center)+" â€¢ "+l(s.publication.job.city_duty_station)+", "+l(s.publication.job.country_duty_station),1),t("div",z,[t("p",null,[e[4]||(e[4]=t("strong",null,"Reference:",-1)),d(" "+l(s.publication.reference),1)]),t("p",null,[e[5]||(e[5]=t("strong",null,"Type:",-1)),d(" "+l(s.publication.type),1)]),t("p",null,[e[6]||(e[6]=t("strong",null,"Published on:",-1)),d(" "+l(p(s.publication.published_at)),1)]),t("p",null,[e[7]||(e[7]=t("strong",null,"Expires on:",-1)),d(" "+l(p(s.publication.expires_at)),1)])])]),t("div",H,[e[8]||(e[8]=t("h3",{class:"text-lg font-semibold mb-4"},"Your Application",-1)),t("div",U,[t("div",Y,[(n(!0),i(v,null,A(o(m),(r,u)=>(n(),i(v,{key:u},[t("div",{class:w(["w-10 h-10 flex items-center justify-center rounded-full font-semibold",u<=o(a)?"bg-secondary text-white":"bg-gray-300 text-gray-700"])},l(u+1),3),u<o(m).length-1?(n(),i("div",{key:0,class:w(["flex-1 h-1",u<o(a)?"bg-secondary":"bg-gray-300"])},null,2)):L("",!0)],64))),128))]),(n(),x(T,null,[(n(),x(P(o(m)[o(a)]),{documents:o(S),form:o(k)},null,8,["documents","form"]))],1024)),t("div",q,[t("button",{onClick:e[1]||(e[1]=(...r)=>o(y)&&o(y)(...r)),class:"px-4 py-2 cursor-pointer bg-gray-400 text-white rounded-lg",disabled:o(a)===0}," Previous ",8,G),o(a)<o(m).length-1?(n(),i("button",{key:0,onClick:e[2]||(e[2]=(...r)=>o(g)&&o(g)(...r)),class:"px-4 py-2 cursor-pointer bg-primary text-white rounded-lg"}," Next ")):(n(),i("button",{key:1,onClick:e[3]||(e[3]=r=>C(s.uuid)),class:"px-4 py-2 cursor-pointer bg-green-600 text-white rounded-lg"}," Submit "))])])])])]))}};export{tt as default};
