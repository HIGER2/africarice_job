import{p as $,r as x,C as z,a as s,o as l,e as t,b as p,T as v,q as g,g as y,x as h,F as c,i as f,u,h as w,t as F}from"./app-Bv2oCPCZ.js";import _ from"./FormField-BfviDnF8.js";import{u as M}from"./index-BVvbXH0-.js";import H from"./Spinnercomponent-B4wPkvJc.js";const N={class:""},q={key:0,class:"bg-white flex my-4 flex-col mx-auto rounded-lg p-6 w-lg relative"},D={class:"flex items-center justify-between mb-2"},J={class:"mt-7 flex-1 overflow-y-auto p-2"},T={class:"flex items-end gap-2"},U={class:"w-full mb-4"},E={class:"cursor-pointer"},L=["onClick"],G={class:"text-sm max-w-xs truncate"},I={type:"submit",class:"w-full flex items-center justify-center bg-primary p-2 rounded-md text-white cursor-pointer"},K={key:1},X=$({__name:"AddOffre",props:{data:Object},setup(k){const{fieldAddOffre:b,newOffre:n,fieldAddDocument:C,submitOffre:A}=M(),a=x(!1),m=x(!1),O=k,V=o=>{n.document.splice(o,1)},j=o=>{n.document[0]=o},B=async()=>{m.value=!0,await A(n,()=>{a.value=!1}),m.value=!1};return z(()=>O.data,o=>{o&&o.assign&&(b[5][0].options=o.assign.map(e=>({label:e.fullname,value:e.id})))},{immediate:!0}),(o,e)=>(l(),s("div",N,[t("button",{onClick:e[0]||(e[0]=r=>a.value=!0),class:"border-0 bg-primary border-gray-200 p-2 px-3 rounded-lg text-white cursor-pointer"},[...e[4]||(e[4]=[t("i",{class:"uil uil-plus"},null,-1),t("span",null,"Add a Job Offer",-1)])]),p(v,{name:"fade"},{default:g(()=>[a.value?(l(),s("div",{key:0,class:"fixed inset-0 top-0 bg-black/50 bg-opacity-50 flex justify-center z-50",onClick:e[3]||(e[3]=h(r=>a.value=!1,["self"]))},[t("form",{action:"",onSubmit:h(B,["prevent"]),class:"overflow-auto w-full h-screen"},[p(v,{name:"scale"},{default:g(()=>[a.value?(l(),s("div",q,[t("div",D,[e[6]||(e[6]=t("h2",{class:"text-xl font-semibold"}," Add a Job Offer ",-1)),t("button",{type:"button",onClick:e[1]||(e[1]=r=>a.value=!1),class:"top-3 text-xl right-3 text-gray-500 hover:text-gray-700"},[...e[5]||(e[5]=[t("i",{class:"uil uil-times"},null,-1)])])]),t("div",J,[(l(!0),s(c,null,f(u(b),(r,d)=>(l(),s("div",T,[(l(!0),s(c,null,f(r,i=>(l(),w(_,{label:i.label,field:i,modelValue:u(n).offre[i.key],"onUpdate:modelValue":S=>u(n).offre[i.key]=S,min:i.min},null,8,["label","field","modelValue","onUpdate:modelValue","min"]))),256))]))),256)),(l(!0),s(c,null,f(u(C),r=>(l(),s("div",U,[t("label",E,[p(_,{field:r,onChange:e[2]||(e[2]=d=>j(d))},null,8,["field"]),e[7]||(e[7]=t("div",{class:"border border-dashed p-3 flex flex-col w-full text-center cursor-pointer"},[t("span",{class:"text-gray-500"}," Cliquez ici pour télécharger un ficher "),t("span",{class:"flex items-center justify-center space-x-2 bg-green-100 text-green-800 p-2 rounded border border-green-300"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"m19.21 12.04l-1.53-.11l-.3-1.5A5.484 5.484 0 0 0 12 6C9.94 6 8.08 7.14 7.12 8.96l-.5.95l-1.07.11A3.99 3.99 0 0 0 2 14c0 2.21 1.79 4 4 4h13c1.65 0 3-1.35 3-3c0-1.55-1.22-2.86-2.79-2.96m-5.76.96v3h-2.91v-3H8l4-4l4 4z",opacity:".3"}),t("path",{fill:"currentColor",d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5c0-2.64-2.05-4.78-4.65-4.96M19 18H6c-2.21 0-4-1.79-4-4c0-2.05 1.53-3.76 3.56-3.97l1.07-.11l.5-.95A5.47 5.47 0 0 1 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5l1.53.11A2.98 2.98 0 0 1 22 15c0 1.65-1.35 3-3 3M8 13h2.55v3h2.9v-3H16l-4-4z"})])])],-1))])]))),256)),(l(!0),s(c,null,f(u(n).document,(r,d)=>(l(),s("div",{class:"flex cursor-pointer bg-gray-100 border p-1 mb-1 border-gray-200",onClick:i=>V(d)},[t("span",G,F(r.name),1)],8,L))),256))]),t("button",I,[m.value?(l(),w(H,{key:0})):(l(),s("span",K,"Save"))])])):y("",!0)]),_:1})],32)])):y("",!0)]),_:1})]))}});export{X as _};
