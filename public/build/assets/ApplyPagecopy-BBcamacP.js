import{k as v,r as x,a as n,o as s,e as l,F as p,h as k,i as m,n as u,t as y,w as b,v as w,l as C,m as V}from"./app-Bv8aSyPj.js";const D={class:"max-w-xl mx-auto p-6 rounded-lg"},N={class:"flex items-center w-full mb-6"},M={class:"bg-white p-4 rounded-lg"},S={class:"text-xl font-bold mb-4"},z={class:"gap-2 w-full"},F=["for"],j=["onUpdate:modelValue"],E=["onUpdate:modelValue"],O={key:2,class:"w-full"},R={class:"cursor-pointer"},U=["onChange"],A={class:"border border-dashed p-5 flex flex-col w-full text-center cursor-pointer"},B={key:0,class:"flex items-center justify-center space-x-2 bg-green-100 text-green-800 px-3 py-2 rounded border border-green-300"},I={class:"font-medium truncate max-w-xs truncate"},P=["id","type","onUpdate:modelValue","placeholder"],q={class:"flex justify-between mt-6"},L=["disabled"],J={__name:"ApplyPagecopy",setup(G){const o=[{key:"diplomas",title:"Vos 3 derniers diplômes",field:[[{type:"text",key:"recent_diploma",label:"Diplôme récent | Recent diploma"},{type:"text",key:"recent_option",label:"Option (Diplôme récent | Recent diploma)"}],[{type:"text",key:"second_last_diploma",label:"2e dernier diplôme | 2nd last diploma"},{type:"text",key:"second_last_option",label:"Option (2e dernier diplôme | 2nd last diploma)"}],[{type:"text",key:"third_last_diploma",label:"3e dernier diplôme | 3rd last diploma"},{type:"text",key:"third_last_option",label:"Option (3e dernier diplôme | 3rd last diploma)"}]]},{key:"experience",title:"Votre plus récente expérience",field:[[{type:"text",key:"company_name_1",label:"Nom de l'entreprise"},{type:"text",key:"position_1",label:"Fonction"}],[{type:"date",key:"start_date_1",label:"Date de début"},{type:"date",key:"end_date_1",label:"Date de fin"}],[{type:"checkbox",key:"current_1",label:"Si vous y travaillez actuellement | If current, check"}],[{type:"text",key:"cgiar_center_1",label:"Dans lequel des centres CGIAR avez-vous déjà travaillé ?"}],[{type:"text",key:"cgiar_email_1",label:"Indiquez votre email cgiar.org"}]]},{key:"identification",title:"Identification",field:[[{type:"date",key:"birth_date",label:"Date de naissance"},{type:"text",key:"address",label:"Adresse"}],[{type:"select",key:"gender",label:"Genre"}]]},{key:"origin",title:"Origine, expériences et langues",field:[[{type:"text",key:"nationality",label:"Nationalité | Nationality"},{type:"text",key:"country",label:"Pays de résidence | Country of residence"}],[{type:"text",key:"city",label:"Ville de résidence | City of residence"},{type:"number",key:"experience_years",label:"Années d'expérience"}],[{type:"select",key:"french_level",label:"Niveau français"},{type:"select",key:"english_level",label:"Niveau anglais"}]]},{key:"",title:"CV and Cover letter",option:!0,optionKey:"reference",dataOption:[{...{key:"diplomas",title:"Vos 3 derniers diplômes",field:[[{type:"text",key:"full_name",label:"Nom et Prenoms | Name"},{type:"text",key:"function",label:"Fonction"}],[{type:"text",key:"phone",label:"Téléphone"},{type:"text",key:"email",label:"email"}],[{type:"text",key:"company",label:"Entreprise"}]]}}],field:[[{type:"file",key:"resume",label:"CV | Resume"},{type:"file",key:"cover_letter",label:"LM | Cover letter"}]]}],a=v({});x(null);const t=x(0);o.forEach(c=>{a[c.key]={},c.field.forEach(i=>{i.forEach(r=>{a[c.key][r.key]=r.type==="checkbox"?!1:""})})});const f=(c,i,r)=>{const e=c.target.files[0];e&&(a[i][r]=e)},_=()=>{console.log(a),t.value<o.length-1&&t.value++},h=()=>{t.value>0&&t.value--},g=()=>{console.log("Form envoyé ✅",a)};return(c,i)=>(s(),n("div",D,[i[4]||(i[4]=l("h1",{class:"text-2xl font-bold mb-2"},"Lorem ipsum dolor sit, amet consectetur adipisicing elit.",-1)),l("div",N,[(s(),n(p,null,k(o,(r,e)=>(s(),n(p,{key:r.title},[l("div",{class:u(["w-10 h-10 flex items-center justify-center rounded-full font-semibold",e<=t.value?"bg-secondary text-white":"bg-gray-300 text-gray-700"])},y(e+1),3),e<o.length-1?(s(),n("div",{key:0,class:u(["flex-1 h-1",e<t.value?"bg-secondary":"bg-gray-300"])},null,2)):m("",!0)],64))),64))]),l("div",M,[l("h2",S,y(o[t.value].title),1),(s(!0),n(p,null,k(o[t.value].field,r=>(s(),n("div",{key:r.key,class:"mb-3"},[i[3]||(i[3]=l("div",{class:"w-full p-2"},null,-1)),l("div",z,[(s(!0),n(p,null,k(r,(e,K)=>(s(),n("div",{class:u([e.type=="checkbox"?"flex-row items-center":"flex-col items-start justify-end","flex gap-1 w-full cursor-pointer mb-2"])},[l("label",{for:e.key,class:"block text-[13px] cursor-pointer text-primary font-medium mb-1"},y(e.label)+" "+y(e.type),9,F),e.type==="select"?b((s(),n("select",{key:0,class:"w-full border p-2 rounded","onUpdate:modelValue":d=>a[o[t.value].key[e.key]]=d},[...i[0]||(i[0]=[l("option",{value:""},"Sélectionnez",-1),l("option",{value:"option1"},"Option 1",-1)])],8,j)),[[w,a[o[t.value].key[e.key]]]]):e.type==="checkbox"?b((s(),n("input",{key:1,type:"checkbox","onUpdate:modelValue":d=>a[o[t.value].key][e.key]=d},null,8,E)),[[C,a[o[t.value].key][e.key]]]):e.type==="file"?(s(),n("div",O,[l("label",R,[l("input",{type:"file",class:"hidden",accept:".pdf,.doc,.docx,.txt",onChange:d=>f(d,o[t.value].key,e.key)},null,40,U),l("div",A,[i[2]||(i[2]=l("span",{class:"text-gray-500"},"Cliquez fichier ici",-1)),a[o[t.value].key][e.key]?(s(),n("span",B,[i[1]||(i[1]=l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h10M7 11h10M7 15h10M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),l("span",I,y(a[o[t.value].key][e.key].name),1)])):m("",!0)])])])):(s(),n(p,{key:3},[e.type!=="select"&&r.type!=="checkbox"?b((s(),n("input",{key:0,id:e.key,type:e.type,class:u([e.type=="checkbox"?"":"w-full","border border-gray-300 p-2 rounded placeholder:text-[11px] placeholder:font-medium"]),"onUpdate:modelValue":d=>a[o[t.value].key][e.key]=d,placeholder:e.label},null,10,P)),[[V,a[o[t.value].key][e.key]]]):m("",!0)],64))],2))),256))])]))),128))]),l("div",q,[l("button",{onClick:h,class:"px-4 py-2 bg-gray-400 text-white rounded",disabled:t.value===0}," Précédent ",8,L),t.value<o.length-1?(s(),n("button",{key:0,onClick:_,class:"px-4 py-2 bg-blue-600 text-white rounded"}," Suivant ")):(s(),n("button",{key:1,onClick:g,class:"px-4 py-2 bg-green-600 text-white rounded"}," Envoyer "))])]))}};export{J as default};
