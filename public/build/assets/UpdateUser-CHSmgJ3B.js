import{l as E,i as U,r as V,A as j,C,e as y,o as a,a as u,m as f,c as p,g,q as b,T as v,b as t,O as N,w as n,s as i,P as q,z as B}from"./app-5_9cEp_s.js";import{u as F}from"./index-DnghZbQ5.js";import T from"./Spinnercomponent-BFrelsVx.js";import{d as O}from"./index-D8QnupBb.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./FormField-BLGTYUjN.js";const A={key:0,class:"w-full max-w-2xl"},M={class:"relative flex h-auto m-auto w-2/3 flex-col overflow-hidden rounded-lg bg-white p-6 shadow-xl"},S={class:"mb-12 flex items-center justify-between"},z=["disabled"],D={class:"flex-1 space-y-4 px-2"},I={class:"flex flex-col sm:flex-row gap-3 w-full"},G={class:"flex flex-col flex-1"},R={class:"flex flex-col flex-1"},H={class:"flex flex-col sm:flex-row gap-3 w-full"},J={class:"flex flex-col flex-1"},K={class:"flex flex-col flex-1"},L={type:"submit",class:"flex items-center justify-center cursor-pointer bg-primary text-white py-3 rounded-lg hover:bg-primary-700 transition-all"},Q={key:1},W=E({__name:"UpdateUser",props:{row:{type:[Boolean,null]}},emits:["close"],setup(w,{emit:_}){const d=w,c=_,l=U({name:"",last_name:"",email:"",phone:""});F();const r=V(!1),m=j(()=>!!d.row),x=()=>{c("close")};async function h(){try{r.value=!0;let s=await B.post("/register",l);O.Inertia.reload(),c("close")}catch(s){let e="Erreur lors de la vérification de l'email.";s?.response?.data?.errors?.length>0?e=Object.values(s?.response?.data?.errors).flat().flat().join(`
`):s?.response?.data?.message&&(e=s?.response?.data?.message),alert(e)}finally{r.value=!1}}const k=()=>{Object.keys(d.row).forEach(s=>{let e=d.row[s];l[s]=e})};return C(m,s=>{s?(document.body.style.overflow="hidden",k()):document.body.style.overflow=""}),(s,e)=>(a(),y(q,{to:"body"},[u(v,{name:"fade"},{default:f(()=>[m.value?(a(),p("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center overflow-auto bg-black/50 p-4",onClick:b(x,["self"])},[u(v,{name:"scale"},{default:f(()=>[m.value?(a(),p("div",A,[t("div",M,[t("div",S,[e[5]||(e[5]=t("div",null,[t("h2",{class:"text-xl font-semibold text-gray-800"}," Edit Profile ")],-1)),t("button",{type:"button",disabled:r.value,onClick:x,class:"text-gray-500 transition-colors hover:text-gray-700 disabled:opacity-50","aria-label":"Fermer"},[...e[4]||(e[4]=[t("i",{class:"uil uil-times text-2xl"},null,-1)])],8,z)]),t("div",D,[u(N,{name:"list",tag:"div",class:"space-y-2"},{default:f(()=>[t("form",{onSubmit:b(h,["prevent"]),class:"flex w-full flex-col gap-4"},[t("div",I,[t("div",G,[e[6]||(e[6]=t("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Family Name / nom",-1)),n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>l.name=o),type:"text",placeholder:"Enter your first name",required:"",class:"p-3 border w-full rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[i,l.name]])]),t("div",R,[e[7]||(e[7]=t("label",{class:"text-sm font-medium text-gray-700 mb-1"},"First Name / Prénoms",-1)),n(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>l.last_name=o),type:"text",placeholder:"Enter your last name",required:"",class:"p-3 border w-full rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[i,l.last_name]])])]),t("div",H,[t("div",J,[e[8]||(e[8]=t("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Phone Number",-1)),n(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>l.phone=o),type:"tel",placeholder:"e.g. +225 07 00 00 00 00",required:"",class:"p-3 w-full border rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[i,l.phone]])]),t("div",K,[e[9]||(e[9]=t("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Email Address",-1)),n(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>l.email=o),type:"email",placeholder:"example@mail.com",required:"",class:"p-3 border w-full rounded-lg focus:ring-2 focus:ring-primary focus:outline-none"},null,512),[[i,l.email]])])]),t("button",L,[r.value?(a(),y(T,{key:0})):(a(),p("span",Q,"Save"))])],32)]),_:1})])])])):g("",!0)]),_:1})])):g("",!0)]),_:1})]))}}),se=P(W,[["__scopeId","data-v-3df57b03"]]);export{se as default};
