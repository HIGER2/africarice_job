import{_ as B}from"./NavBar.vue_vue_type_script_setup_true_lang-rssaRfSl.js";import D from"./OverlayLoader-BSxmZihM.js";import{u as F}from"./index-CelW1YUH.js";import"./AuthUser.vue_vue_type_script_setup_true_lang-BkfL4E2e.js";import{r as N,c as l,o as n,a as f,b as t,d as a,t as r,e as x,F as v,f as A,g as L,n as w,u as o,h as P,K as z}from"./app-Bv_WWrdG.js";import"./FormField-CsXn1Yh0.js";import"./index-CMxh3kT_.js";import"./country-DJW8tnyE.js";const T={class:"w-full"},$={class:"max-w-xl mx-auto mt-4"},E={key:0,class:"bg-white border border-gray-200 rounded-lg p-5 mb-6"},K={class:"text-xl font-semibold mb-3"},O={class:"text-gray-600"},R={class:"mt-3 grid grid-cols-2 gap-4 text-sm text-gray-700"},H={key:1},U={class:"bg-white border border-gray-200 rounded-lg p-5"},Y={class:"w-full"},q={class:"flex items-center w-full mb-6"},G={class:"flex justify-between border-t border-t-gray-200 bg-white mt-6 sticky bottom-0 p-4"},I=["disabled"],et={__name:"ApplyPage",props:{uuid:String,publication:Object,user:Object},setup(s){const h=s,p=c=>new Date(c).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),{form:k,payLoad:j,documentPreview:C,currentStep:u,components:m,nextStep:g,prevStep:y,submitForm:S}=F(),b=N(!1);j(h?.user?.data?.application);const V=async c=>{b.value=!0,await S(c),b.value=!1};return(c,e)=>(n(),l("div",T,[f(B,{user:s.user.data},null,8,["user"]),f(D,{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=i=>b.value=i),text:"Traitement..."},null,8,["modelValue"]),t("div",$,[e[10]||(e[10]=t("a",{href:"/",class:"px-4 py-2 text-sm font-medium bg-gray-100 text-primary rounded-xl hover:shadow-lg hover:bg-gray-200 inline-flex items-center gap-2 transition-all duration-200 mb-3"},[t("i",{class:"uil uil-arrow-left"}),a(" Back to Home ")],-1)),s.publication?(n(),l("div",E,[t("h2",K,r(s.publication.job.position_title),1),t("p",O,r(s.publication.job.center)+" • "+r(s.publication.job.city_duty_station)+", "+r(s.publication.job.country_duty_station),1),t("div",R,[t("p",null,[e[4]||(e[4]=t("strong",null,"Reference:",-1)),a(" "+r(s.publication.reference),1)]),t("p",null,[e[5]||(e[5]=t("strong",null,"Type:",-1)),a(" "+r(s.publication.type),1)]),t("p",null,[e[6]||(e[6]=t("strong",null,"Published on:",-1)),a(" "+r(p(s.publication.published_at)),1)]),t("p",null,[e[7]||(e[7]=t("strong",null,"Expires on:",-1)),a(" "+r(p(s.publication.expires_at)),1)])])])):(n(),l("div",H,[...e[8]||(e[8]=[t("h3",{class:"text-xl font-semibold text-gray-800 mb-4 text-center"},[a(" Complétez ou mettez à jour vos informations"),t("br"),t("span",{class:"text-gray-500 text-base"},"Complete or update your information")],-1)])])),t("div",U,[e[9]||(e[9]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 text-center"},[a(" Votre candidature"),t("br"),t("span",{class:"text-gray-500 text-base"},"Your Application")],-1)),t("div",Y,[t("div",q,[(n(!0),l(v,null,A(o(m),(i,d)=>(n(),l(v,{key:d},[t("div",{class:w(["w-10 h-10 flex items-center justify-center rounded-full font-semibold",d<=o(u)?"bg-secondary text-white":"bg-gray-300 text-gray-700"])},r(d+1),3),d<o(m).length-1?(n(),l("div",{key:0,class:w(["flex-1 h-1",d<o(u)?"bg-secondary":"bg-gray-300"])},null,2)):L("",!0)],64))),128))]),(n(),x(z,null,[(n(),x(P(o(m)[o(u)]),{documents:o(C),form:o(k)},null,8,["documents","form"]))],1024)),t("div",G,[t("button",{onClick:e[1]||(e[1]=(...i)=>o(y)&&o(y)(...i)),class:"px-4 py-2 cursor-pointer bg-gray-400 text-white rounded-lg",disabled:o(u)===0}," Previous ",8,I),o(u)<o(m).length-1?(n(),l("button",{key:0,onClick:e[2]||(e[2]=(...i)=>o(g)&&o(g)(...i)),class:"px-4 py-2 cursor-pointer bg-primary text-white rounded-lg"}," Next ")):(n(),l("button",{key:1,onClick:e[3]||(e[3]=i=>V(s.uuid)),class:"px-4 py-2 cursor-pointer bg-green-600 text-white rounded-lg"}," Submit "))])])])])]))}};export{et as default};
