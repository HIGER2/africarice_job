import{_ as x}from"./Table.vue_vue_type_script_setup_true_lang-CSpBmKWw.js";import{u as f}from"./index-DnghZbQ5.js";import{l as b,A as g,c as l,o as r,b as t,d as y,a as v,m as c,n as h,t as u,F as w,f as C}from"./app-5_9cEp_s.js";const N={class:"w-full"},j={class:"flex px-6 py-4 justify-between items-center w-full"},A={class:"flex justify-between items-center gap-2"},E={class:"w-full"},P={class:"overflow-x-auto border border-slate-200 bg-white"},D={class:"flex flex-col gap-2"},F=["href"],T=b({__name:"CandidatureManager",props:{data:{type:Array,default:()=>[]}},setup(i){const n=i,{exportToExcel:p}=f(),_={candidature_id:"N° Candidature",publication_reference:"Référence Publication",candidat:"Candidat",user_email:"Email",user_phone:"Téléphone",date:"Date",publication_is_closed:"Publication Clôturée",job_position_title:"Intitulé Poste",job_country:"Pays",origin_nationality:"Nationalité",origin_country:"Pays d'origine",origin_city:"Ville d'origine",origin_experience_years:"Années Expérience",origin_french_level:"Niveau Français",origin_english_level:"Niveau Anglais",documents:"Document"},o=g(()=>!n.data?.data||n.data.data.length===0?[]:Object.keys(n.data.data[0]).map(e=>({key:e,label:_[e]||e})));console.log(o.value);const m=(a,e)=>{delete a[a.findIndex(s=>s.key==="documents")],p(a,e,"Liste_des_candidatures.xlsx")};return(a,e)=>(r(),l("div",null,[t("div",N,[t("div",j,[e[2]||(e[2]=t("h2",{class:"text-2xl font-semibold mb-4"}," Gerer les candidatures ",-1)),t("div",A,[t("button",{type:"button",onClick:e[0]||(e[0]=s=>m(o.value,i.data?.data)),class:"bg-primary p-2 px-3 rounded-lg text-white cursor-pointer"},[...e[1]||(e[1]=[t("i",{class:"uil uil-export"},null,-1),y(" Exporter",-1)])])])]),t("div",E,[t("div",P,[v(x,{columns:o.value,rows:i.data?.data},{documents:c(({row:s})=>[t("div",D,[(r(!0),l(w,null,C(s.documents,(d,V)=>(r(),l("a",{href:`${d.path}`,download:"",class:"text-blue-600 hover:underline"},u(d.name),9,F))),256))])]),publication_is_closed:c(({row:s})=>[t("span",{class:h(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.publication_is_closed==="Ouverte"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},u(s.publication_is_closed),3)]),_:1},8,["columns","rows"])])])])]))}});export{T as _};
