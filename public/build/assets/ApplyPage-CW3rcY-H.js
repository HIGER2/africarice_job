import{_ as F}from"./NavBar.vue_vue_type_script_setup_true_lang-3DI8mbAC.js";import L from"./OverlayLoader-DLXrUfBR.js";import{u as N}from"./index-BaG9rQvz.js";import{d as $,c as z,r as E,a as l,o as n,b as x,e as t,f as d,t as r,g as v,h as w,F as h,i as R,n as k,u as o,j as T,K as _}from"./app-HTz4708B.js";import"./AuthUser.vue_vue_type_script_setup_true_lang-BKGCUhE6.js";import"./index-DO-W2SjQ.js";import"./logo.vue_vue_type_script_setup_true_lang-Cr4jWgI5.js";import"./FormField-D48VWpeV.js";import"./FormFields-BLWvByj-.js";import"./phoneCodes-hIPL1_Jr.js";const q={class:"w-full"},K={class:"max-w-xl mx-auto mt-4"},O={key:0,class:"bg-white border border-gray-200 rounded-lg p-5 mb-6"},U={class:"text-xl font-semibold mb-3"},H={class:"text-gray-600"},Y={class:"mt-3 grid grid-cols-2 gap-4 text-sm text-gray-700"},G={key:1},I={class:"bg-white"},J={key:0,class:"text-lg font-semibold text-gray-800 mb-4"},M={class:"w-full border border-gray-200 rounded-lg p-5"},Q={class:"flex items-center w-full mb-6"},W=["onClick"],X={class:"w-full flex justify-between border-t-gray-200 bg-white mt-6 bottom-0 p-4"},Z=["disabled"],mt={__name:"ApplyPage",props:{uuid:String,publication:Object,user:Object},setup(s){const j=$.usePage(),b=z(()=>{const a=j.url.value||"";return new URLSearchParams(a.split("?")[1]||"").get("not_apply")||!1}),C=s,g=a=>new Date(a).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),{form:y,payLoad:S,documentPreview:A,setStep:V,currentStep:i,components:c,nextStep:P,prevStep:f,submitForm:B}=N(),p=E(!1);S(C?.user?.data?.application);const D=async(a,e=!1)=>{p.value=!0,await B(a),p.value=!1};return(a,e)=>(n(),l("div",q,[x(F,{user:s.user.data},null,8,["user"]),x(L,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=m=>p.value=m),text:"Traitement..."},null,8,["modelValue"]),t("div",K,[e[9]||(e[9]=t("a",{href:"/",class:"px-4 py-2 text-sm font-medium bg-gray-100 text-primary rounded-xl hover:shadow-lg hover:bg-gray-200 inline-flex items-center gap-2 transition-all duration-200 mb-3"},[t("i",{class:"uil uil-arrow-left"}),d(" Back to Home ")],-1)),s.publication?(n(),l("div",O,[t("h2",U,r(s.publication.job.position_title),1),t("p",H,r(s.publication.job.center)+" • "+r(s.publication.job.city_duty_station)+", "+r(s.publication.job.country_duty_station),1),t("div",Y,[t("p",null,[e[4]||(e[4]=t("strong",null,"Reference:",-1)),d(" "+r(s.publication.reference),1)]),t("p",null,[e[5]||(e[5]=t("strong",null,"Type:",-1)),d(" "+r(s.publication.type),1)]),t("p",null,[e[6]||(e[6]=t("strong",null,"Published on:",-1)),d(" "+r(g(s.publication.published_at)),1)]),t("p",null,[e[7]||(e[7]=t("strong",null,"Expires on:",-1)),d(" "+r(g(s.publication.expires_at)),1)])])])):(n(),l("div",G,[...e[8]||(e[8]=[t("h3",{class:"text-xl font-semibold text-gray-800 mb-4 text-center"},[d(" Complétez ou mettez à jour vos informations"),t("br"),t("span",{class:"text-gray-500 text-base"},"Complete or update your information")],-1)])])),t("div",I,[s.publication?(n(),l("h3",J," Votre candidature / Your Application ")):v("",!0),t("div",M,[t("div",Q,[(n(!0),l(h,null,R(o(c),(m,u)=>(n(),l(h,{key:u},[t("div",{onClick:tt=>o(V)(u),class:k(["w-10 h-10 cursor-pointer flex items-center justify-center rounded-full font-semibold",u<=o(i)?"bg-secondary text-white":"bg-gray-300 text-gray-700"])},r(u+1),11,W),u<o(c).length-1?(n(),l("div",{key:0,class:k(["flex-1 h-1",u<o(i)?"bg-secondary":"bg-gray-300"])},null,2)):v("",!0)],64))),128))]),(n(),w(_,null,[(n(),w(T(o(c)[o(i)]),{documents:o(A),form:o(y),notApply:b.value},null,8,["documents","form","notApply"]))],1024))]),t("div",X,[t("button",{onClick:e[1]||(e[1]=(...m)=>o(f)&&o(f)(...m)),class:"px-4 py-2 cursor-pointer bg-gray-400 text-white rounded-lg",disabled:o(i)===0}," Previous ",8,Z),o(i)<o(c).length-1?(n(),l("button",{key:0,onClick:e[2]||(e[2]=()=>o(P)(o(i),o(y))),class:"px-4 py-2 cursor-pointer bg-primary text-white rounded-lg"}," Next ")):(n(),l("button",{key:1,onClick:e[3]||(e[3]=m=>D(s.uuid,b.value)),class:"px-4 py-2 cursor-pointer bg-green-600 text-white rounded-lg"}," Submit "))])])])]))}};export{mt as default};
